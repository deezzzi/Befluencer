import { ChangeDetectionStrategy, Component, inject, signal, AfterViewInit, ElementRef, ViewChild, NgZone, OnDestroy } from '@angular/core';
import { AsyncPipe, NgIf } from '@angular/common';
import { OnboardingService } from './onboarding.service';

// Product Tour: step contents and overlay host
// Notes:
// - We refer to these onboarding stages as the "Tour" across the UI.
// - Step 1 is a centered modal with a blurred backdrop; Steps 2–4 are anchored tooltips with no blur.
// - Anchors used:
//    • Notifications bell => element id "bf-bell-anchor"
//    • Profile block      => element id "bf-profile-anchor"
//    • Collab Tools item  => element id "bf-collab-anchor"
// - Navigation is driven by OnboardingService (open/close/next/back) and stored step state.
@Component({
  selector: 'bf-onboarding-step1',
  standalone: true,
  template: `
    <h2 class="text-2xl sm:text-3xl font-extrabold"><span class="text-orange-500">Welcome</span> <span class="text-gray-900">to your Dashboard!</span></h2>
    <p class="mt-3 text-sm sm:text-base text-gray-600 max-w-md">We're excited you're here. Let's kick off a quick product tour of the key areas.</p>
    <div class="mt-5 grid place-items-center">
    <svg width="307" height="229" viewBox="0 0 307 229" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M306.08 200.921H0V201.074H306.08V200.921Z" fill="#BA68C8"/>
<path d="M275.409 210.771H255.135V210.924H275.409V210.771Z" fill="#BA68C8"/>
<path d="M202.759 212.436H197.439V212.589H202.759V212.436Z" fill="#BA68C8"/>
<path d="M254.523 205.09H242.775V205.243H254.523V205.09Z" fill="#BA68C8"/>
<path d="M58.5525 206.118H32.1133V206.271H58.5525V206.118Z" fill="#BA68C8"/>
<path d="M67.8808 206.118H64.0059V206.271H67.8808V206.118Z" fill="#BA68C8"/>
<path d="M137.826 208.701H80.4785V208.854H137.826V208.701Z" fill="#BA68C8"/>
<path d="M145.082 173.619H26.8799C25.954 173.617 25.0664 173.248 24.4122 172.593C23.7581 171.937 23.3906 171.049 23.3906 170.123V3.96482C23.3987 3.04415 23.7697 2.16384 24.423 1.51509C25.0763 0.866352 25.9592 0.501577 26.8799 0.5H145.082C146.009 0.5 146.898 0.868268 147.553 1.52379C148.209 2.17931 148.577 3.06838 148.577 3.99543V170.123C148.577 171.05 148.209 171.939 147.553 172.595C146.898 173.25 146.009 173.619 145.082 173.619ZM26.8799 0.622432C25.9945 0.624054 25.146 0.976912 24.5205 1.60356C23.895 2.2302 23.5437 3.07943 23.5437 3.96482V170.123C23.5437 171.009 23.895 171.858 24.5205 172.485C25.146 173.111 25.9945 173.464 26.8799 173.466H145.082C145.968 173.464 146.817 173.111 147.443 172.485C148.07 171.858 148.423 171.009 148.424 170.123V3.96482C148.423 3.07886 148.07 2.22965 147.443 1.60318C146.817 0.976713 145.968 0.624051 145.082 0.622432H26.8799Z" fill="#BA68C8"/>
<path d="M277.496 173.619H159.288C158.362 173.617 157.474 173.248 156.819 172.593C156.163 171.938 155.795 171.05 155.793 170.123V3.96482C155.803 3.04359 156.175 2.16328 156.829 1.51471C157.484 0.866138 158.367 0.50156 159.288 0.5H277.496C278.416 0.503186 279.297 0.868673 279.949 1.51724C280.601 2.16581 280.972 3.04521 280.98 3.96482V170.123C280.98 171.048 280.613 171.935 279.96 172.591C279.307 173.246 278.421 173.615 277.496 173.619ZM159.288 0.622432C158.402 0.624051 157.553 0.976713 156.927 1.60318C156.3 2.22965 155.948 3.07886 155.946 3.96482V170.123C155.948 171.009 156.3 171.858 156.927 172.485C157.553 173.111 158.402 173.464 159.288 173.466H277.496C278.382 173.464 279.232 173.111 279.858 172.485C280.485 171.858 280.837 171.009 280.839 170.123V3.96482C280.837 3.07886 280.485 2.22965 279.858 1.60318C279.232 0.976713 278.382 0.624051 277.496 0.622432H159.288Z" fill="#BA68C8"/>
<path d="M258.385 44.8574H160.434V109.618H258.385V44.8574Z" fill="#E0E0E0"/>
<path d="M255.027 48.3652H163.791V106.116H255.027V48.3652Z" fill="#BA68C8"/>
<path d="M187.052 52.2764H169.746V76.2853H187.052V52.2764Z" fill="#F5F5F5"/>
<path d="M209.406 54.5352H190.08V81.1396H209.406V54.5352Z" fill="#F5F5F5"/>
<path d="M230.527 52.2764H214.525V75.2813H230.527V52.2764Z" fill="#F5F5F5"/>
<path d="M248.64 53.9844H234.555V79.842H248.64V53.9844Z" fill="#F5F5F5"/>
<path d="M248.641 84.8252H217.855V103.71H248.641V84.8252Z" fill="#F5F5F5"/>
<path d="M182.429 87.2979H170.902V98.8248H182.429V87.2979Z" fill="#F5F5F5"/>
<path d="M198.351 89.8506H186.684V101.518H198.351V89.8506Z" fill="#F5F5F5"/>
<path d="M150.794 43.9082H73.7227V200.486H150.794V43.9082Z" fill="#E0E0E0"/>
<path d="M102.366 58.416H87.3496V73.4323H102.366V58.416Z" fill="#F0F0F0"/>
<path d="M119.762 58.416H104.746V73.4323H119.762V58.416Z" fill="#F0F0F0"/>
<path d="M137.161 58.416H122.145V73.4323H137.161V58.416Z" fill="#F0F0F0"/>
<path d="M102.366 75.8809H87.3496V90.8971H102.366V75.8809Z" fill="#F0F0F0"/>
<path d="M119.762 75.8809H104.746V90.8971H119.762V75.8809Z" fill="#F0F0F0"/>
<path d="M137.161 75.8809H122.145V90.8971H137.161V75.8809Z" fill="#F0F0F0"/>
<path d="M144.648 115.635C144.648 116.207 144.479 116.767 144.16 117.243C143.842 117.72 143.39 118.091 142.861 118.31C142.332 118.529 141.75 118.586 141.188 118.475C140.626 118.363 140.11 118.087 139.705 117.682C139.301 117.277 139.025 116.761 138.913 116.2C138.801 115.638 138.859 115.056 139.078 114.527C139.297 113.998 139.668 113.545 140.144 113.227C140.62 112.909 141.18 112.739 141.753 112.739C142.133 112.738 142.51 112.813 142.862 112.958C143.214 113.103 143.533 113.317 143.802 113.586C144.071 113.855 144.284 114.174 144.43 114.526C144.575 114.877 144.649 115.254 144.648 115.635Z" fill="#F0F0F0"/>
<path d="M70.4832 44.0059H41.375V57.7244H70.4832V44.0059Z" fill="#E0E0E0"/>
<path d="M70.4823 61.5752H46.957V69.6618H70.4823V61.5752Z" fill="#E0E0E0"/>
<path d="M70.484 44.0059H44.0938V57.7244H70.484V44.0059Z" fill="#BA68C8"/>
<path d="M70.4822 61.5752H49.1484V69.6618H70.4822V61.5752Z" fill="#BA68C8"/>
<path d="M116.15 36.5951C120.879 34.6362 123.125 29.2147 121.166 24.4857C119.207 19.7567 113.786 17.511 109.057 19.4699C104.328 21.4287 102.082 26.8502 104.041 31.5792C106 36.3082 111.421 38.5539 116.15 36.5951Z" fill="#F0F0F0"/>
<path d="M115.369 34.7111C119.058 33.1831 120.809 28.954 119.281 25.2651C117.753 21.5763 113.524 19.8245 109.836 21.3525C106.147 22.8805 104.395 27.1096 105.923 30.7984C107.451 34.4873 111.68 36.239 115.369 34.7111Z" fill="#FAFAFA"/>
<path d="M110.286 30.2757L109.9 29.7982L112.3 27.8821V23.1562H112.912V28.176L110.286 30.2757Z" fill="#F0F0F0"/>
<path d="M208.183 181.155C208.183 180.947 208.893 160.207 212.266 156.925C215.547 153.736 219.312 156.809 219.471 156.925L219.808 156.521C219.771 156.485 215.522 153.02 211.899 156.521C208.372 159.95 207.687 180.249 207.656 181.112L208.183 181.155Z" fill="#E0E0E0"/>
<path d="M207.896 185.232C207.896 184.981 210.204 160.335 201.199 150.002L200.801 150.351C209.653 160.507 207.394 184.932 207.369 185.177L207.896 185.232Z" fill="#E0E0E0"/>
<path d="M208.225 182.623L208.751 182.586C208.751 182.305 206.994 154.562 213.593 148.489L213.238 148.104C206.449 154.348 208.133 181.472 208.225 182.623Z" fill="#E0E0E0"/>
<path d="M207.37 182.605H207.896C207.896 181.84 207.682 163.861 202.577 160.935C202.091 160.621 201.538 160.428 200.963 160.373C200.387 160.318 199.807 160.401 199.271 160.616C196.21 161.89 194.655 167.387 194.588 167.619L195.096 167.76C195.096 167.705 196.626 162.251 199.473 161.106C199.935 160.924 200.434 160.855 200.928 160.905C201.422 160.955 201.897 161.123 202.313 161.394C207.156 164.173 207.37 182.422 207.37 182.605Z" fill="#E0E0E0"/>
<path d="M209.357 182.617L209.884 182.587C209.884 182.446 209.113 168.384 212.908 163.432C213.826 162.208 214.824 161.657 215.883 161.73C218.368 161.908 220.45 165.544 220.474 165.581L220.933 165.324C220.842 165.158 218.687 161.4 215.92 161.204C214.695 161.118 213.526 161.761 212.492 163.108C208.574 168.231 209.321 182.036 209.357 182.617Z" fill="#E0E0E0"/>
<path d="M208.527 184.534C208.631 183.169 211.006 151.061 206.825 145.398L206.396 145.717C210.467 151.226 208.025 184.16 208 184.491L208.527 184.534Z" fill="#E0E0E0"/>
<path d="M198.132 163.867C198.132 163.867 200.642 164.798 199.895 166.977C199.148 169.156 191.215 172.756 191.215 172.756C191.215 172.756 187.891 169.695 190.945 164.755C194 159.815 198.065 162.306 198.132 163.867Z" fill="#BA68C8"/>
<path d="M209.04 159.71C209.04 159.71 206.371 159.6 206.218 161.902C206.065 164.204 212.009 170.576 212.009 170.576C212.009 170.576 216.245 169.046 215.339 163.298C214.433 157.549 209.707 158.296 209.04 159.71Z" fill="#BA68C8"/>
<path d="M211.305 148.686C211.305 148.686 209.523 148.496 209.664 147.412C209.805 146.329 216.594 143.531 220.597 148.024C220.597 148.024 218.032 152.426 214.329 152.481C210.625 152.536 211.305 148.686 211.305 148.686Z" fill="#BA68C8"/>
<path d="M207.987 146.053C207.987 146.053 209.597 146.831 210.05 145.833C210.503 144.835 206.224 138.879 200.439 140.599C200.439 140.599 200.286 145.686 203.395 147.694C206.505 149.702 207.987 146.053 207.987 146.053Z" fill="#BA68C8"/>
<path d="M216.422 162.991C216.422 162.991 215.198 162 216.52 161.516C217.842 161.032 224.356 161.167 224.423 167.638C224.423 167.638 216.839 168.899 215.902 166.413C214.965 163.928 216.422 162.991 216.422 162.991Z" fill="#BA68C8"/>
<path d="M200.952 148.526C200.952 148.526 202.176 147.535 200.854 147.045C199.532 146.555 193.019 146.702 192.951 153.167C192.951 153.167 200.536 154.428 201.472 151.973C202.409 149.518 200.952 148.526 200.952 148.526Z" fill="#BA68C8"/>
<path d="M204.962 153.723C204.962 153.723 205.072 152.499 204.099 152.989C203.126 153.478 199.728 157.121 203.248 160.598C203.248 160.598 207.986 157.09 207.129 155.26C206.272 153.429 204.962 153.723 204.962 153.723Z" fill="#BA68C8"/>
<path d="M217.518 155.438C217.518 155.438 216.784 154.477 217.861 154.361C218.938 154.244 223.762 155.53 222.636 160.341C222.636 160.341 216.759 159.901 216.514 157.893C216.269 155.885 217.518 155.438 217.518 155.438Z" fill="#BA68C8"/>
<path d="M197.661 200.487H217.832L220.005 178.406H195.488L197.661 200.487Z" fill="#F0F0F0"/>
<path d="M194.408 180.842H221.08V175.969H194.408V180.842Z" fill="#E6E6E6"/>
<path d="M153.039 228.566C218.591 228.566 271.731 225.464 271.731 221.637C271.731 217.81 218.591 214.707 153.039 214.707C87.4877 214.707 34.3477 217.81 34.3477 221.637C34.3477 225.464 87.4877 228.566 153.039 228.566Z" fill="#F5F5F5"/>
<path d="M152.624 27.294H135.043C133.606 27.294 132.228 27.8648 131.212 28.8808C130.196 29.8968 129.625 31.2748 129.625 32.7116V48.0156C129.625 49.4524 130.196 50.8304 131.212 51.8464C132.228 52.8624 133.606 53.4332 135.043 53.4332H142.021L145.082 58.2632L145.694 53.4332H152.654C153.366 53.4332 154.07 53.293 154.727 53.0207C155.384 52.7484 155.981 52.3492 156.483 51.8461C156.986 51.3429 157.384 50.7456 157.656 50.0884C157.927 49.4311 158.067 48.7268 158.066 48.0156V32.7116C158.066 31.9981 157.925 31.2916 157.651 30.6327C157.377 29.9738 156.976 29.3755 156.471 28.8721C155.965 28.3687 155.365 27.9702 154.705 27.6993C154.044 27.4285 153.337 27.2908 152.624 27.294Z" fill="#FF6A00"/>
<path opacity="0.7" d="M152.624 27.294H135.043C133.606 27.294 132.228 27.8648 131.212 28.8808C130.196 29.8968 129.625 31.2748 129.625 32.7116V48.0156C129.625 49.4524 130.196 50.8304 131.212 51.8464C132.228 52.8624 133.606 53.4332 135.043 53.4332H142.021L145.082 58.2632L145.694 53.4332H152.654C153.366 53.4332 154.07 53.293 154.727 53.0207C155.384 52.7484 155.981 52.3492 156.483 51.8461C156.986 51.3429 157.384 50.7456 157.656 50.0884C157.927 49.4311 158.067 48.7268 158.066 48.0156V32.7116C158.066 31.9981 157.925 31.2916 157.651 30.6327C157.377 29.9738 156.976 29.3755 156.471 28.8721C155.965 28.3687 155.365 27.9702 154.705 27.6993C154.044 27.4285 153.337 27.2908 152.624 27.294Z" fill="white"/>
<path d="M150.006 46.4675C153.415 43.0585 153.415 37.5313 150.006 34.1223C146.597 30.7133 141.07 30.7133 137.661 34.1223C134.252 37.5313 134.252 43.0585 137.661 46.4675C141.07 49.8766 146.597 49.8766 150.006 46.4675Z" fill="#FF6A00"/>
<path d="M142.915 44.1954C142.799 44.1966 142.683 44.1719 142.577 44.1232C142.472 44.0745 142.378 44.003 142.303 43.9139L138.875 39.8797C138.737 39.7174 138.669 39.5068 138.686 39.2945C138.703 39.0821 138.804 38.8852 138.967 38.7472C139.129 38.6092 139.34 38.5414 139.552 38.5586C139.764 38.5758 139.961 38.6767 140.099 38.8391L142.909 42.157L147.555 36.6843C147.695 36.5302 147.889 36.4365 148.096 36.4227C148.304 36.4089 148.508 36.4761 148.667 36.6103C148.826 36.7445 148.926 36.935 148.947 37.1418C148.968 37.3486 148.908 37.5555 148.78 37.7188L143.521 43.9139C143.446 44.0016 143.353 44.0722 143.249 44.1208C143.144 44.1694 143.03 44.1948 142.915 44.1954Z" fill="white"/>
<path d="M252.166 110.591L250.997 110.536C250.997 110.536 249.001 124.977 247.679 126.109C246.357 127.241 226.958 123.489 225.825 122.669C225.786 122.635 225.759 122.59 225.746 122.54C224.895 120.416 228.261 96.456 229.498 95.3418C230.735 94.2277 234.512 95.3418 234.512 95.3418C234.512 95.3418 242.684 97.2579 247.367 98.5312C248.433 98.7832 249.479 99.1147 250.495 99.5229C251.719 100.245 252.166 110.591 252.166 110.591Z" fill="#263238"/>
<path opacity="0.2" d="M247.82 109.501C247.82 109.501 245.818 123.942 244.502 125.074C243.474 125.956 231.561 123.893 225.746 122.54C224.895 120.416 228.261 96.456 229.498 95.3418C230.735 94.2277 234.512 95.3418 234.512 95.3418C234.512 95.3418 242.684 97.2579 247.367 98.5312C248.536 99.5045 247.82 109.501 247.82 109.501Z" fill="white"/>
<path d="M213.797 71.6448L212.799 67.5801L217.341 68.5228C217.341 68.5228 218.014 72.1958 216.117 72.4712L213.797 71.6448Z" fill="#EEC1BB"/>
<path d="M214.048 63.6318L217.678 65.7683L217.341 68.523L212.799 67.5803L214.048 63.6318Z" fill="#EEC1BB"/>
<path d="M229.787 95.7584C229.077 96.1033 228.347 96.4059 227.601 96.6644C227.063 96.4624 226.536 96.2542 226.016 96.0522C225.753 95.942 225.483 95.838 225.226 95.7217C224.271 95.3299 223.335 94.9075 222.404 94.4606L221.296 93.9219C220.99 93.7627 220.684 93.6097 220.372 93.4444C219.674 93.0649 218.976 92.6915 218.284 92.2813C217.807 92.0058 217.329 91.712 216.858 91.4059C216.387 91.0998 215.891 90.7509 215.401 90.3836L215.113 90.1694C214.486 89.7019 213.901 89.1817 213.362 88.6145C213.037 88.2833 212.74 87.9249 212.475 87.5432C212.313 87.3163 212.165 87.0791 212.034 86.8331C211.997 86.7596 211.955 86.6801 211.918 86.5944C211.826 86.3862 211.74 86.172 211.685 85.9822C211.419 85.134 211.281 84.251 211.275 83.3622C211.26 82.1593 211.346 80.9573 211.532 79.7688C211.532 79.5606 211.593 79.3464 211.624 79.1566C211.879 77.6729 212.212 76.2037 212.622 74.7552C212.928 73.6696 213.277 72.5881 213.669 71.5107L216.68 72.1719C216.631 73.1636 216.57 74.1553 216.533 75.147C216.466 76.6406 216.417 78.1221 216.417 79.5668V80.1789C216.417 81.0298 216.472 81.8624 216.564 82.6276C216.564 82.7316 216.595 82.8418 216.607 82.9459C216.659 83.3246 216.76 83.695 216.907 84.0478C216.937 84.109 216.907 84.0478 216.944 84.0845C216.98 84.1212 216.944 84.1151 217.029 84.1702C217.115 84.2253 217.237 84.3845 217.397 84.5191C218.209 85.1785 219.08 85.7624 219.998 86.2638H220.053C221.039 86.8147 222.08 87.3596 223.157 87.8676L223.384 87.9717C224.889 88.6941 226.444 89.398 228.03 90.0592C228.642 90.3163 229.254 90.5734 229.823 90.8121C229.823 90.8121 231.813 91.357 232.517 92.7282C233.086 93.8791 231.348 95.0054 229.787 95.7584Z" fill="#FF6A00"/>
<path opacity="0.2" d="M229.787 95.7583C229.077 96.1033 228.347 96.4058 227.602 96.6643C227.063 96.4623 226.536 96.2542 226.016 96.0522C225.753 95.942 225.483 95.8379 225.226 95.7216C224.271 95.3298 223.335 94.9074 222.404 94.4605C225.759 92.8751 228.385 94.4789 229.787 95.7583Z" fill="black"/>
<path d="M207.988 214.224L204.125 212.822L206.249 203.511L210.118 204.913L207.988 214.224Z" fill="#EEC1BB"/>
<path d="M238.472 219.359H234.37L233.201 209.858H237.303L238.472 219.359Z" fill="#EEC1BB"/>
<path d="M233.845 218.882H238.847C238.928 218.883 239.007 218.911 239.07 218.962C239.134 219.013 239.178 219.084 239.196 219.163L240.047 222.836C240.064 222.926 240.061 223.018 240.038 223.106C240.015 223.195 239.973 223.277 239.914 223.347C239.856 223.416 239.782 223.472 239.699 223.51C239.616 223.548 239.526 223.567 239.434 223.565C237.824 223.534 236.649 223.442 234.623 223.442C233.399 223.442 229.615 223.571 227.889 223.571C226.163 223.571 225.93 221.869 226.665 221.735C229.817 221.043 232.174 220.088 233.19 219.176C233.366 219.002 233.599 218.898 233.845 218.882Z" fill="#263238"/>
<path d="M203.984 212.038L208.373 212.975C208.452 212.993 208.524 213.038 208.576 213.101C208.628 213.164 208.657 213.242 208.661 213.324L208.722 217.058C208.723 217.148 208.705 217.238 208.667 217.321C208.63 217.403 208.575 217.476 208.505 217.535C208.436 217.593 208.355 217.636 208.268 217.659C208.18 217.683 208.089 217.686 207.999 217.67C206.42 217.303 204.149 216.715 202.159 216.293C199.833 215.791 198.389 215.319 195.658 214.738C194.005 214.383 193.889 212.62 194.612 212.614C197.899 212.614 199.888 213.226 202.949 212.161C203.275 212.021 203.634 211.978 203.984 212.038Z" fill="#263238"/>
<path opacity="0.2" d="M206.248 203.511L205.152 208.31L209.021 209.718L210.117 204.919L206.248 203.511Z" fill="black"/>
<path opacity="0.2" d="M237.309 209.858H233.201L233.807 214.756H237.909L237.309 209.858Z" fill="black"/>
<path d="M204.02 206.896L210.582 209.246C210.582 209.246 215.693 186.737 218.411 174.255C219.606 169.323 221.08 164.463 222.825 159.698C225.31 152.695 228.273 145.153 230.667 139.258C233.195 133.051 235.074 128.668 235.074 128.668L220.921 125.803C220.921 125.803 210.129 156.87 207.699 169.15C205.201 181.919 204.02 206.896 204.02 206.896Z" fill="#263238"/>
<g opacity="0.3">
<path d="M204.02 206.896L210.582 209.246C210.582 209.246 215.693 186.737 218.411 174.255C219.606 169.323 221.08 164.463 222.825 159.698C225.31 152.695 228.273 145.153 230.667 139.258C233.195 133.051 235.074 128.668 235.074 128.668L220.921 125.803C220.921 125.803 210.129 156.87 207.699 169.15C205.201 181.919 204.02 206.896 204.02 206.896Z" fill="white"/>
</g>
<path opacity="0.2" d="M222.826 159.698C225.312 152.695 228.274 145.153 230.668 139.258L229.572 135.873C225.55 139.619 223.022 152.53 222.826 159.698Z" fill="black"/>
<path d="M228.581 127.352C228.581 127.352 226.059 162.771 225.906 174.812C225.734 187.992 231.899 213.807 231.899 213.807H239.416C239.416 213.807 236.411 190.514 237.414 177.457C238.529 162.851 242.471 130.161 242.471 130.161L228.581 127.352Z" fill="#263238"/>
<g opacity="0.3">
<path d="M228.581 127.352C228.581 127.352 226.059 162.771 225.906 174.812C225.734 187.992 231.899 213.807 231.899 213.807H239.416C239.416 213.807 236.411 190.514 237.414 177.457C238.529 162.851 242.471 130.161 242.471 130.161L228.581 127.352Z" fill="white"/>
</g>
<path d="M231.004 213.972H239.85L239.825 211.327L230.588 210.795L231.004 213.972Z" fill="#263238"/>
<path d="M203.145 206.81L210.98 209.528L211.837 207L203.267 203.878L203.145 206.81Z" fill="#263238"/>
<path d="M232.479 219.598C232.199 219.621 231.921 219.547 231.689 219.39C231.616 219.326 231.559 219.247 231.523 219.158C231.487 219.068 231.473 218.972 231.481 218.875C231.479 218.819 231.494 218.763 231.523 218.714C231.553 218.665 231.595 218.626 231.646 218.6C232.093 218.367 233.427 219.212 233.58 219.273C233.596 219.284 233.608 219.299 233.615 219.316C233.623 219.334 233.626 219.353 233.623 219.371C233.621 219.391 233.613 219.409 233.6 219.423C233.586 219.437 233.569 219.447 233.55 219.451C233.199 219.539 232.84 219.589 232.479 219.598ZM231.866 218.753C231.826 218.743 231.784 218.743 231.744 218.753C231.713 218.753 231.683 218.79 231.683 218.863C231.674 218.929 231.682 218.996 231.706 219.058C231.729 219.119 231.768 219.175 231.817 219.218C232.276 219.428 232.797 219.454 233.274 219.292C232.843 219.022 232.362 218.839 231.86 218.753H231.866Z" fill="#FF6A00"/>
<path d="M233.532 219.457H233.483C233.055 219.224 232.229 218.325 232.308 217.872C232.322 217.8 232.36 217.736 232.416 217.689C232.471 217.642 232.541 217.616 232.614 217.615C232.688 217.605 232.763 217.611 232.835 217.632C232.907 217.654 232.973 217.689 233.03 217.737C233.508 218.129 233.643 219.31 233.643 219.365C233.645 219.382 233.642 219.399 233.634 219.415C233.627 219.43 233.615 219.443 233.6 219.451C233.59 219.458 233.579 219.462 233.567 219.463C233.555 219.464 233.543 219.462 233.532 219.457ZM232.688 217.817H232.62C232.498 217.817 232.486 217.89 232.479 217.914C232.431 218.19 232.963 218.869 233.385 219.188C233.352 218.719 233.18 218.272 232.89 217.902C232.834 217.852 232.763 217.822 232.688 217.817Z" fill="#FF6A00"/>
<path d="M203.468 212.502C202.795 212.502 201.632 212.405 201.252 211.921C201.198 211.851 201.161 211.768 201.146 211.681C201.131 211.593 201.138 211.503 201.167 211.419C201.179 211.368 201.205 211.321 201.241 211.283C201.278 211.246 201.324 211.219 201.375 211.205C201.92 211.033 203.37 212.196 203.529 212.331C203.546 212.343 203.558 212.361 203.564 212.381C203.57 212.401 203.568 212.422 203.56 212.441C203.554 212.461 203.542 212.477 203.525 212.489C203.509 212.5 203.488 212.505 203.468 212.502ZM201.46 211.382H201.399C201.379 211.387 201.36 211.398 201.346 211.413C201.332 211.428 201.323 211.447 201.32 211.468C201.299 211.523 201.293 211.582 201.302 211.639C201.31 211.697 201.333 211.752 201.369 211.798C201.571 212.074 202.226 212.251 203.144 212.294C202.624 211.86 201.785 211.339 201.46 211.382Z" fill="#FF6A00"/>
<path d="M203.469 212.503C203.459 212.509 203.447 212.512 203.436 212.512C203.424 212.512 203.412 212.509 203.402 212.503C202.961 212.185 202.178 211.107 202.343 210.666C202.386 210.562 202.49 210.446 202.753 210.477C202.85 210.487 202.944 210.517 203.029 210.564C203.114 210.611 203.189 210.675 203.249 210.752C203.523 211.266 203.63 211.852 203.555 212.429C203.555 212.447 203.55 212.464 203.54 212.478C203.53 212.492 203.516 212.503 203.5 212.509L203.469 212.503ZM202.631 210.666C202.609 210.667 202.588 210.674 202.569 210.686C202.551 210.698 202.536 210.714 202.526 210.734C202.429 210.997 202.943 211.823 203.377 212.221C203.425 211.754 203.327 211.284 203.096 210.875C203.054 210.817 203 210.769 202.937 210.734C202.875 210.699 202.806 210.678 202.735 210.673L202.631 210.666Z" fill="#FF6A00"/>
<path d="M250.46 95.4155C249.831 96.9378 249.254 98.4702 248.727 100.013C248.587 100.423 248.452 100.827 248.317 101.237C247.901 102.517 247.515 103.796 247.16 105.063C247.038 105.51 246.915 105.957 246.799 106.398C246.609 107.096 246.432 107.787 246.26 108.473C246.168 108.859 246.077 109.238 245.991 109.612C245.777 110.518 245.581 111.405 245.379 112.281C245.177 113.156 245.036 113.946 244.883 114.729C244.73 115.513 244.552 116.437 244.412 117.257C244.271 118.078 244.136 118.867 244.014 119.639C243.891 120.41 243.75 121.316 243.64 122.087C243.499 123.073 243.371 123.997 243.261 124.842C242.906 127.383 242.649 129.25 242.459 130.137L220.941 125.779C220.941 124.089 220.941 122.467 221.015 120.881C221.058 119.835 221.107 118.812 221.18 117.821C221.217 117.166 221.266 116.523 221.321 115.892C221.407 114.931 221.498 114.001 221.603 113.095C221.719 112.079 221.847 111.099 221.994 110.156C222.251 108.412 222.551 106.796 222.87 105.296C223.261 103.459 223.678 101.837 224.094 100.368C224.627 98.5314 225.171 96.9521 225.673 95.6604C226.268 94.045 227.001 92.4843 227.865 90.9957C229.621 90.8994 231.381 90.9117 233.136 91.0325C233.503 91.0325 233.882 91.0998 234.262 91.1365C237.355 91.5719 240.421 92.1851 243.444 92.973C244.014 93.1199 244.595 93.2852 245.158 93.4505C247.993 94.3687 250.46 95.4155 250.46 95.4155Z" fill="#FF6A00"/>
<path d="M244.507 82.5293C243.363 85.3575 241.747 90.6343 243.43 93.0156C242.338 93.7803 241.094 94.2998 239.783 94.5386C238.472 94.7774 237.124 94.7298 235.833 94.3991C233.311 93.8298 233.525 92.03 234.278 91.1669C237.712 91.0444 238.098 88.5897 237.951 86.19L244.507 82.5293Z" fill="#EEC1BB"/>
<path opacity="0.2" d="M241.839 84.0469L237.97 86.2017C238.006 86.7627 237.996 87.3258 237.939 87.8851C239.225 87.9586 241.215 86.9301 241.612 85.6446C241.786 85.1305 241.862 84.5889 241.839 84.0469Z" fill="black"/>
<path d="M237.04 72.3118C235.919 73.5362 234.799 76.597 237.242 76.5663C239.684 76.5357 238.962 70.2121 237.04 72.3118Z" fill="#263238"/>
<path d="M246.448 79.0526C244.954 82.8357 244.268 85.1252 241.679 86.4536C237.779 88.4492 233.598 85.0762 233.935 80.9441C234.235 77.1916 236.635 71.6393 240.908 71.3761C241.85 71.3201 242.791 71.5031 243.644 71.9079C244.497 72.3128 245.234 72.9265 245.787 73.6921C246.339 74.4577 246.69 75.3505 246.805 76.2875C246.921 77.2246 246.798 78.1757 246.448 79.0526Z" fill="#EEC1BB"/>
<path d="M247.037 71.7734H244.252L245.586 74.2894C246.039 74.3568 245.14 75.8933 245.531 75.8994C245.531 75.8994 243.695 79.2418 244.84 81.5007C248.953 81.1701 251.861 77.9379 249.994 75.6056C251.188 73.5609 249.1 72.0428 247.037 71.7734Z" fill="#263238"/>
<path d="M246.891 82.7556C246.596 83.1659 246.222 83.5132 245.791 83.7771C245.36 84.0409 244.881 84.216 244.382 84.2922C243.047 84.4881 242.545 83.2454 243.041 82.0639C243.5 80.9988 244.743 79.6153 246.022 79.9642C246.301 80.0445 246.555 80.1927 246.762 80.3954C246.969 80.5982 247.122 80.8492 247.209 81.1258C247.295 81.4025 247.311 81.6963 247.255 81.9807C247.2 82.2652 247.075 82.5314 246.891 82.7556Z" fill="#EEC1BB"/>
<path d="M237.781 77.5029C237.092 78.3036 236.295 79.0041 235.412 79.5843C235.581 79.8016 235.793 79.981 236.036 80.1107C236.278 80.2404 236.546 80.3176 236.82 80.3372L237.781 77.5029Z" fill="#D4827D"/>
<path d="M241.723 77.3869C241.688 77.3801 241.655 77.364 241.628 77.3403C241.601 77.3167 241.581 77.2863 241.57 77.2523C241.497 77.019 241.37 76.8061 241.2 76.6306C241.03 76.4552 240.821 76.3221 240.59 76.2422C240.565 76.2358 240.542 76.2245 240.521 76.209C240.501 76.1935 240.484 76.1742 240.471 76.152C240.457 76.1298 240.449 76.1053 240.445 76.0798C240.442 76.0543 240.443 76.0284 240.45 76.0035C240.456 75.9785 240.467 75.9551 240.483 75.9346C240.498 75.914 240.518 75.8967 240.54 75.8836C240.562 75.8705 240.586 75.862 240.612 75.8584C240.637 75.8548 240.663 75.8562 240.688 75.8627C240.977 75.9632 241.239 76.1302 241.452 76.3503C241.664 76.5704 241.822 76.8374 241.913 77.1298C241.93 77.1785 241.928 77.2323 241.906 77.2794C241.885 77.3264 241.845 77.3629 241.796 77.3808C241.772 77.3861 241.748 77.3882 241.723 77.3869Z" fill="#263238"/>
<path d="M235.576 75.2324C235.538 75.2265 235.503 75.2069 235.478 75.1773C235.442 75.1406 235.422 75.0911 235.422 75.0395C235.422 74.988 235.442 74.9385 235.478 74.9018C235.685 74.674 235.944 74.4995 236.233 74.3929C236.522 74.2863 236.832 74.2509 237.137 74.2896C237.189 74.3 237.235 74.3302 237.264 74.3736C237.294 74.4171 237.306 74.4704 237.297 74.5223C237.286 74.5723 237.257 74.6162 237.214 74.6448C237.172 74.6734 237.12 74.6843 237.07 74.6753C236.828 74.6415 236.581 74.6679 236.351 74.7523C236.122 74.8367 235.917 74.9763 235.754 75.1589C235.734 75.1863 235.707 75.2077 235.676 75.2207C235.644 75.2337 235.61 75.2377 235.576 75.2324Z" fill="#263238"/>
<path d="M236.373 81.0847C236.66 81.7318 236.899 82.3988 237.089 83.0804L237.457 83.0375C239.134 82.8294 239.844 82.1805 240.126 81.5255C240.256 81.2016 240.307 80.8508 240.273 80.5032C240.259 80.3065 240.218 80.1127 240.15 79.9277C239.33 80.5399 237.781 80.8766 236.942 81.0113C236.593 81.0664 236.373 81.0847 236.373 81.0847Z" fill="#263238"/>
<path d="M236.941 81.0113L237.168 81.5928C238.747 81.3969 239.831 81.0419 240.272 80.5032C240.259 80.3065 240.217 80.1127 240.149 79.9277C239.353 80.5644 237.78 80.8766 236.941 81.0113Z" fill="white"/>
<path d="M237.457 83.0374C239.134 82.8293 239.844 82.1804 240.126 81.5254C239.482 81.6183 238.86 81.8256 238.29 82.1376C237.926 82.345 237.636 82.6591 237.457 83.0374Z" fill="#DE5753"/>
<path d="M249.24 72.6001C249.24 72.6001 246.84 68.8904 241.196 68.6578C235.552 68.4252 235.381 72.1838 237.291 73.4755L237.456 72.9245C237.913 73.4774 238.489 73.9208 239.139 74.2223V73.4755C239.937 74.2115 240.854 74.8057 241.851 75.2324V74.2897C241.851 74.2897 243.321 75.514 246.375 75.8568C249.43 76.1996 250.636 74.9569 249.24 72.6001Z" fill="#263238"/>
<path d="M240.278 78.3784C240.247 78.3789 240.217 78.3697 240.192 78.3521C240.166 78.3346 240.147 78.3095 240.137 78.2805C240.116 78.1935 240.076 78.1123 240.02 78.0425C239.964 77.9727 239.893 77.916 239.813 77.8765C239.711 77.8343 239.596 77.8343 239.494 77.8765C239.459 77.895 239.418 77.8997 239.379 77.8895C239.341 77.8793 239.308 77.855 239.286 77.8214C239.273 77.787 239.272 77.7487 239.284 77.7139C239.297 77.679 239.321 77.6497 239.353 77.6316C239.439 77.5816 239.534 77.5508 239.632 77.5412C239.73 77.5317 239.83 77.5438 239.923 77.5765C240.05 77.632 240.162 77.7162 240.252 77.8224C240.341 77.9285 240.404 78.0539 240.437 78.1887C240.449 78.2269 240.447 78.2683 240.429 78.3046C240.412 78.3409 240.382 78.3695 240.345 78.3846L240.278 78.3784Z" fill="#263238"/>
<path d="M236.803 77.4665C236.773 77.4661 236.743 77.4565 236.718 77.4391C236.693 77.4216 236.673 77.397 236.662 77.3685C236.641 77.2815 236.601 77.2003 236.545 77.1305C236.489 77.0607 236.418 77.004 236.338 76.9645C236.234 76.9342 236.122 76.9452 236.026 76.9951C235.99 77.0155 235.947 77.0211 235.907 77.0109C235.867 77.0006 235.833 76.9752 235.811 76.94C235.794 76.9044 235.79 76.8639 235.8 76.8257C235.811 76.7876 235.834 76.7543 235.867 76.7319C235.952 76.6834 236.047 76.6534 236.145 76.6439C236.243 76.6344 236.342 76.6456 236.436 76.6768C236.563 76.7323 236.675 76.8164 236.765 76.9226C236.854 77.0288 236.917 77.1542 236.95 77.2889C236.962 77.3272 236.96 77.3686 236.943 77.4049C236.926 77.4412 236.895 77.4698 236.858 77.4848L236.803 77.4665Z" fill="#263238"/>
<path d="M246.852 93.7992C246.852 93.7992 242.812 106.22 245.836 117.673L245.058 118.396C245.058 118.396 240.045 106.214 244.263 93.2666L246.852 93.7992Z" fill="#263238"/>
<path d="M232.619 90.983C232.619 90.983 223.253 102.951 221.502 114.08L221.673 111.497C221.673 111.497 221.612 101.567 229.815 90.8545L232.619 90.983Z" fill="#263238"/>
<path d="M245.555 116.51L247.14 119.246L246.087 122.815C245.333 120.964 244.817 119.024 244.551 117.042L245.555 116.51Z" fill="#263238"/>
<path d="M251.829 127.26L241.649 122.975L240.994 131.545C240.994 131.545 252.466 131.759 252.625 131.826C252.784 131.894 251.829 127.26 251.829 127.26Z" fill="#263238"/>
<path opacity="0.4" d="M251.829 127.26L241.649 122.975L240.994 131.545C240.994 131.545 252.466 131.759 252.625 131.826C252.784 131.894 251.829 127.26 251.829 127.26Z" fill="white"/>
<path d="M241.639 131.043L242.312 123.691L244.038 120.93L250.846 126.843L249.664 130.902L241.639 131.043Z" fill="#263238"/>
<path opacity="0.7" d="M241.639 131.043L242.312 123.691L244.038 120.93L250.846 126.843L249.664 130.902L241.639 131.043Z" fill="white"/>
<path d="M243.418 120.128L243.296 129.58L240.994 131.581L254.517 137.226L256.855 134.808L256.953 126.28L243.418 120.128Z" fill="#263238"/>
<path opacity="0.5" d="M243.418 120.128L243.296 129.58L240.994 131.581L254.517 137.226L256.855 134.808L256.953 126.28L243.418 120.128Z" fill="white"/>
<path d="M251.923 129.5L251.556 133.663L247.564 131.3C247.564 131.3 248.122 127.627 250.013 127.97L251.923 129.5Z" fill="#EEC1BB"/>
<path d="M249.094 136.999L246.352 133.797L247.564 131.3L251.555 133.663L249.094 136.999Z" fill="#EEC1BB"/>
<path opacity="0.2" d="M248.317 101.236C247.901 102.516 247.515 103.795 247.16 105.062C247.038 105.509 246.915 105.956 246.799 106.397C245.942 104.622 246.352 101.628 246.352 101.628L248.317 101.236Z" fill="black"/>
<path d="M253.006 97.2761C254.231 98.5072 255.349 99.8404 256.348 101.261C257.851 103.361 259.189 105.573 260.351 107.879C261.152 109.426 261.816 111.04 262.335 112.703C262.534 113.332 262.653 113.984 262.69 114.643C262.733 116.027 261.466 118.383 259.782 120.844C258.833 122.246 257.756 123.685 256.721 125.001C254.45 127.884 252.436 130.174 252.436 130.174L249.375 128.031C249.375 128.031 250.888 125.276 252.436 122.301C253.263 120.728 254.095 119.087 254.707 117.765C255.139 116.963 255.468 116.109 255.687 115.225C255.695 114.954 255.675 114.683 255.626 114.417C255.393 113.125 251.604 105.081 246.4 101.629L248.237 94.8948C249.516 94.5336 251.23 95.5314 253.006 97.2761Z" fill="#FF6A00"/>
<path d="M190.852 112.813C193.343 114.441 188.464 121.383 182.814 120.409C177.164 119.436 177.837 114.931 178.86 113.266C179.882 111.6 185.085 109.042 190.852 112.813Z" fill="#FF6A00"/>
<path opacity="0.3" d="M190.852 112.813C193.343 114.441 188.464 121.383 182.814 120.409C177.164 119.436 177.837 114.931 178.86 113.266C179.882 111.6 185.085 109.042 190.852 112.813Z" fill="black"/>
<path d="M183.383 111.185C183.383 111.185 190.08 116.119 190.808 120.41C191.537 124.701 183.181 128.068 177.126 127.352C171.072 126.635 165.74 115.947 165.74 115.947C165.74 115.947 177.524 116.198 183.383 111.185Z" fill="#FF6A00"/>
<path opacity="0.2" d="M183.383 111.185C183.383 111.185 190.08 116.119 190.808 120.41C191.537 124.701 183.181 128.068 177.126 127.352C171.072 126.635 165.74 115.947 165.74 115.947C165.74 115.947 177.524 116.198 183.383 111.185Z" fill="black"/>
<path d="M182.422 114.038C182.422 114.038 182.03 108.075 190.863 112.813C190.863 112.813 186.811 110.059 183.003 110.573C179.195 111.087 175.229 115.146 171.042 114.748C166.854 114.35 169.046 119.314 169.046 119.314C169.046 119.314 178.375 118.598 182.422 114.038Z" fill="#FF6A00"/>
<path d="M164.504 85.7248C166.481 81.3262 168.15 76.7955 169.499 72.1654C169.897 70.5126 169.671 68.7679 169.499 66.9988C169.236 64.7767 168.832 62.4443 168.416 60.1732L171.268 59.1387C173.083 62.4856 174.324 66.1128 174.941 69.8698C175.148 71.3234 175.087 72.8025 174.764 74.2345C173.801 79.125 172.219 83.8729 170.056 88.3632L164.547 85.7248H164.504Z" fill="#FFB573"/>
<path d="M162.221 86.0924C164.945 84.1885 167.253 79.126 167.253 79.126L172.854 82.5602C172.854 82.5602 170.264 88.3941 169.701 92.1772C169.383 94.4728 162.221 86.0924 162.221 86.0924Z" fill="#263238"/>
<path opacity="0.2" d="M166.935 91.0139C168.361 92.2995 169.592 93.0953 169.732 92.1709C169.842 91.4586 169.993 90.7534 170.185 90.059C169.362 89.1585 168.384 88.4141 167.296 87.8613C167.012 88.8869 166.89 89.9507 166.935 91.0139Z" fill="black"/>
<path d="M159.527 201.846L163.555 202.072L165.716 192.841L161.694 192.614L159.527 201.846Z" fill="#FFB573"/>
<path d="M163.604 201.154L160.274 198.093C160.215 198.042 160.141 198.015 160.063 198.015C159.986 198.015 159.911 198.042 159.852 198.093L157.042 200.382C156.974 200.443 156.92 200.517 156.883 200.599C156.845 200.682 156.826 200.772 156.826 200.863C156.826 200.954 156.845 201.043 156.883 201.126C156.92 201.209 156.974 201.283 157.042 201.343C158.217 202.396 158.842 202.843 160.305 204.196C161.211 205.022 163.708 207.502 164.957 208.653C166.206 209.803 167.406 208.653 166.984 208.04C165.147 205.396 164.119 203.198 163.923 201.821C163.9 201.567 163.787 201.331 163.604 201.154Z" fill="#263238"/>
<g opacity="0.2">
<path d="M165.714 192.841L164.6 197.603L160.572 197.377L161.686 192.62L165.714 192.841Z" fill="black"/>
</g>
<path d="M165.895 86.4783C165.895 86.4783 171.545 93.5242 171.827 110.928C165.521 112.507 158.971 112.911 155.911 113.683C154.558 107.151 153.609 103.147 147.193 90.6532C149.28 89.6408 151.439 88.7835 153.652 88.0883C156.009 87.3052 158.418 86.6915 160.863 86.2518C162.535 85.9323 164.258 86.0099 165.895 86.4783Z" fill="#FFB573"/>
<path d="M152.346 79.793C153.38 81.9967 154.905 86.1349 153.668 88.0877C153.668 88.0877 154.892 90.2854 159.177 89.2019C163.922 88.0143 160.855 86.2819 160.855 86.2819C158.112 86.3125 157.696 84.378 157.696 82.462L152.346 79.793Z" fill="#FFB573"/>
<path d="M153.649 88.0942C156.006 87.3085 158.416 86.6947 160.861 86.2578L161.344 86.1904C162.195 87.1332 162.758 88.7737 161.999 91.5836C161.999 91.5836 155.033 90.6225 152.713 88.3697C153.037 88.2901 153.356 88.1861 153.649 88.0942Z" fill="#FFB573"/>
<path opacity="0.2" d="M154.539 80.8828L157.722 82.4561C157.711 82.9051 157.744 83.3541 157.82 83.7967C156.792 83.9008 155.163 83.1845 154.796 82.1439C154.636 81.7421 154.549 81.3151 154.539 80.8828Z" fill="black"/>
<path d="M171.857 111.35C171.857 111.35 174.605 142.448 174.171 154.74C173.718 167.522 165.362 196.581 165.362 196.581L159.907 196.501C159.907 196.501 164.431 168.14 164.125 155.578C163.788 141.878 159.84 111.185 159.84 111.185L171.857 111.35Z" fill="#FF6A00"/>
<path opacity="0.2" d="M171.857 111.35C171.857 111.35 174.605 142.448 174.171 154.74C173.718 167.522 165.362 196.581 165.362 196.581L159.907 196.501C159.907 196.501 164.431 168.14 164.125 155.578C163.788 141.878 159.84 111.185 159.84 111.185L171.857 111.35Z" fill="white"/>
<path d="M159.429 196.691L165.826 196.783L166.328 194.744L159.166 194.401L159.429 196.691Z" fill="#FF6A00"/>
<path opacity="0.2" d="M164.67 118.978C168.576 127.126 165.16 141.836 163.66 147.308C163.048 139.05 161.959 128.944 161.102 121.537C161.787 117.362 162.883 115.219 164.67 118.978Z" fill="black"/>
<path d="M124.939 165.41L126.249 169.223L135.56 167.595L134.257 163.781L124.939 165.41Z" fill="#FFB573"/>
<path d="M127.328 169.358L127.071 164.834C127.066 164.753 127.035 164.675 126.982 164.613C126.929 164.551 126.857 164.509 126.777 164.491L123.141 163.714C123.053 163.693 122.962 163.694 122.875 163.717C122.788 163.739 122.708 163.782 122.641 163.842C122.574 163.903 122.523 163.978 122.492 164.062C122.461 164.146 122.45 164.237 122.461 164.326C122.572 165.905 122.712 166.671 122.823 168.66C122.89 169.884 122.957 173.392 123.055 175.082C123.153 176.771 124.837 176.979 124.953 176.306C125.455 173.202 126.275 171.048 127.114 170.05C127.194 169.955 127.254 169.844 127.291 169.726C127.328 169.607 127.34 169.482 127.328 169.358Z" fill="#263238"/>
<g opacity="0.2">
<path d="M135.562 167.595L130.763 168.434L129.453 164.62L134.252 163.781L135.562 167.595Z" fill="black"/>
</g>
<path d="M167.326 111.301C167.326 111.301 162.429 143.292 159.209 155.309C155.885 167.803 132.354 168.55 132.354 168.55L130.027 163.616C130.027 163.616 143.807 160.157 149.849 151.985C152.598 138.518 155.358 111.136 155.358 111.136L167.326 111.301Z" fill="#FF6A00"/>
<path opacity="0.2" d="M167.326 111.301C167.326 111.301 162.429 143.292 159.209 155.309C155.885 167.803 132.354 168.55 132.354 168.55L130.027 163.616C130.027 163.616 143.807 160.157 149.849 151.985C152.598 138.518 155.358 111.136 155.358 111.136L167.326 111.301Z" fill="white"/>
<path d="M129.758 163.138L131.772 169.211L133.945 169.266L131.931 162.416L129.758 163.138Z" fill="#FF6A00"/>
<path d="M126.715 170.815C126.705 171.171 126.81 171.521 127.015 171.813C127.075 171.88 127.148 171.934 127.231 171.97C127.313 172.006 127.403 172.023 127.493 172.021C127.544 172.021 127.595 172.008 127.639 171.982C127.683 171.956 127.719 171.919 127.744 171.874C127.989 171.402 127.07 169.737 126.966 169.548C126.956 169.53 126.941 169.515 126.922 169.505C126.904 169.495 126.883 169.491 126.862 169.493C126.844 169.494 126.827 169.501 126.814 169.513C126.8 169.526 126.792 169.542 126.789 169.56C126.725 169.975 126.7 170.395 126.715 170.815ZM127.591 171.598C127.609 171.654 127.609 171.714 127.591 171.77C127.583 171.788 127.569 171.804 127.551 171.814C127.533 171.824 127.513 171.828 127.493 171.825C127.434 171.83 127.375 171.821 127.321 171.799C127.267 171.776 127.219 171.741 127.181 171.696C126.942 171.433 126.868 170.772 126.966 169.86C127.272 170.4 127.485 170.988 127.597 171.598H127.591Z" fill="#FF6A00"/>
<path d="M126.795 169.579C126.792 169.593 126.792 169.608 126.795 169.622C127.04 170.118 127.97 171.128 128.423 171.091C128.533 171.091 128.662 171.011 128.674 170.748C128.679 170.65 128.664 170.552 128.63 170.459C128.596 170.367 128.545 170.282 128.478 170.209C128.029 169.821 127.476 169.572 126.887 169.493C126.871 169.49 126.855 169.491 126.84 169.496C126.824 169.502 126.811 169.511 126.801 169.524C126.796 169.532 126.792 169.541 126.791 169.551C126.79 169.56 126.792 169.57 126.795 169.579ZM128.491 170.681V170.736C128.491 170.907 128.411 170.913 128.393 170.913C128.117 170.913 127.395 170.246 127.064 169.738C127.54 169.816 127.984 170.028 128.344 170.35C128.427 170.442 128.479 170.558 128.491 170.681Z" fill="#FF6A00"/>
<path d="M164.241 202.702C164.475 202.956 164.788 203.125 165.129 203.18C165.215 203.181 165.301 203.161 165.377 203.122C165.454 203.082 165.52 203.024 165.57 202.953C165.605 202.914 165.629 202.866 165.638 202.814C165.648 202.762 165.643 202.709 165.625 202.66C165.447 202.127 163.709 201.637 163.507 201.588C163.488 201.582 163.467 201.583 163.448 201.589C163.43 201.596 163.414 201.608 163.402 201.625C163.392 201.641 163.387 201.661 163.387 201.68C163.387 201.7 163.392 201.719 163.402 201.735C163.652 202.082 163.933 202.406 164.241 202.702ZM165.337 202.574C165.385 202.612 165.421 202.663 165.441 202.721C165.453 202.738 165.459 202.758 165.459 202.779C165.459 202.8 165.453 202.82 165.441 202.837C165.409 202.884 165.366 202.922 165.316 202.949C165.266 202.975 165.21 202.989 165.153 202.99C164.823 202.99 164.308 202.562 163.751 201.851C164.317 202.001 164.853 202.245 165.337 202.574Z" fill="#FF6A00"/>
<path d="M163.444 201.747C163.449 201.75 163.454 201.751 163.46 201.751C163.465 201.751 163.47 201.75 163.475 201.747C163.977 201.919 165.269 201.919 165.519 201.533C165.581 201.441 165.617 201.294 165.44 201.092C165.377 201.02 165.3 200.962 165.213 200.921C165.127 200.88 165.033 200.857 164.938 200.854C164.375 200.935 163.852 201.192 163.444 201.588C163.437 201.602 163.434 201.618 163.434 201.634C163.434 201.65 163.437 201.666 163.444 201.68C163.44 201.691 163.437 201.702 163.437 201.714C163.437 201.725 163.44 201.737 163.444 201.747ZM165.281 201.196C165.297 201.209 165.311 201.223 165.324 201.239C165.44 201.368 165.397 201.429 165.385 201.447C165.232 201.68 164.295 201.747 163.732 201.631C164.071 201.319 164.499 201.122 164.956 201.068C165.059 201.081 165.156 201.126 165.232 201.196H165.281Z" fill="#FF6A00"/>
<path d="M155.168 111.668L155.021 113.088C154.984 113.205 155.143 113.303 155.333 113.29L172.137 112.066C172.284 112.066 172.394 111.974 172.388 111.889L172.265 110.487C172.265 110.389 172.112 110.315 171.953 110.328L155.425 111.552C155.375 111.545 155.325 111.552 155.279 111.573C155.234 111.593 155.195 111.626 155.168 111.668Z" fill="#FF6A00"/>
<path opacity="0.7" d="M155.168 111.668L155.021 113.088C154.984 113.205 155.143 113.303 155.333 113.29L172.137 112.066C172.284 112.066 172.394 111.974 172.388 111.889L172.265 110.487C172.265 110.389 172.112 110.315 171.953 110.328L155.425 111.552C155.375 111.545 155.325 111.552 155.279 111.573C155.234 111.593 155.195 111.626 155.168 111.668Z" fill="white"/>
<path d="M156.603 113.315L156.162 113.346C156.07 113.346 155.997 113.315 155.99 113.26L155.85 111.424C155.85 111.369 155.911 111.32 156.003 111.313H156.443C156.529 111.313 156.609 111.313 156.609 111.399L156.756 113.236C156.762 113.26 156.713 113.309 156.603 113.315Z" fill="#FF6A00"/>
<g opacity="0.2">
<path d="M156.603 113.315L156.162 113.346C156.07 113.346 155.997 113.315 155.99 113.26L155.85 111.424C155.85 111.369 155.911 111.32 156.003 111.313H156.443C156.529 111.313 156.609 111.313 156.609 111.399L156.756 113.236C156.762 113.26 156.713 113.309 156.603 113.315Z" fill="#FF6A00"/>
</g>
<path d="M169.794 112.342L169.347 112.378C169.262 112.378 169.188 112.342 169.182 112.293L169.035 110.456C169.035 110.401 169.102 110.352 169.188 110.346L169.635 110.315C169.721 110.315 169.8 110.346 169.8 110.395L169.947 112.231C169.947 112.287 169.88 112.336 169.794 112.342Z" fill="#FF6A00"/>
<path opacity="0.2" d="M169.794 112.342L169.347 112.378C169.262 112.378 169.188 112.342 169.182 112.293L169.035 110.456C169.035 110.401 169.102 110.352 169.188 110.346L169.635 110.315C169.721 110.315 169.8 110.346 169.8 110.395L169.947 112.231C169.947 112.287 169.88 112.336 169.794 112.342Z" fill="#FF6A00"/>
<path d="M163.192 112.831L162.752 112.862C162.666 112.862 162.586 112.831 162.586 112.776L162.439 110.94C162.439 110.885 162.507 110.836 162.592 110.829L163.033 110.799C163.125 110.799 163.199 110.829 163.205 110.885L163.345 112.721C163.352 112.776 163.284 112.825 163.192 112.831Z" fill="#FF6A00"/>
<path opacity="0.2" d="M163.192 112.831L162.752 112.862C162.666 112.862 162.586 112.831 162.586 112.776L162.439 110.94C162.439 110.885 162.507 110.836 162.592 110.829L163.033 110.799C163.125 110.799 163.199 110.829 163.205 110.885L163.345 112.721C163.352 112.776 163.284 112.825 163.192 112.831Z" fill="#FF6A00"/>
<g opacity="0.2">
<path d="M156.603 113.315L156.162 113.346C156.07 113.346 155.997 113.315 155.99 113.26L155.85 111.424C155.85 111.369 155.911 111.32 156.003 111.313H156.443C156.529 111.313 156.609 111.313 156.609 111.399L156.756 113.236C156.762 113.26 156.713 113.309 156.603 113.315Z" fill="white"/>
<g opacity="0.2">
<path d="M156.603 113.315L156.162 113.346C156.07 113.346 155.997 113.315 155.99 113.26L155.85 111.424C155.85 111.369 155.911 111.32 156.003 111.313H156.443C156.529 111.313 156.609 111.313 156.609 111.399L156.756 113.236C156.762 113.26 156.713 113.309 156.603 113.315Z" fill="white"/>
</g>
<path d="M169.794 112.342L169.347 112.378C169.262 112.378 169.188 112.342 169.182 112.293L169.035 110.456C169.035 110.401 169.102 110.352 169.188 110.346L169.635 110.315C169.721 110.315 169.8 110.346 169.8 110.395L169.947 112.231C169.947 112.287 169.88 112.336 169.794 112.342Z" fill="white"/>
<path opacity="0.2" d="M169.794 112.342L169.347 112.378C169.262 112.378 169.188 112.342 169.182 112.293L169.035 110.456C169.035 110.401 169.102 110.352 169.188 110.346L169.635 110.315C169.721 110.315 169.8 110.346 169.8 110.395L169.947 112.231C169.947 112.287 169.88 112.336 169.794 112.342Z" fill="white"/>
<path d="M163.192 112.831L162.752 112.862C162.666 112.862 162.586 112.831 162.586 112.776L162.439 110.94C162.439 110.885 162.507 110.836 162.592 110.829L163.033 110.799C163.125 110.799 163.199 110.829 163.205 110.885L163.345 112.721C163.352 112.776 163.284 112.825 163.192 112.831Z" fill="white"/>
<path opacity="0.2" d="M163.192 112.831L162.752 112.862C162.666 112.862 162.586 112.831 162.586 112.776L162.439 110.94C162.439 110.885 162.507 110.836 162.592 110.829L163.033 110.799C163.125 110.799 163.199 110.829 163.205 110.885L163.345 112.721C163.352 112.776 163.284 112.825 163.192 112.831Z" fill="white"/>
</g>
<path d="M150.436 68.3826C147.896 69.858 143.788 74.0574 148.208 78.8506C152.628 83.6438 161.596 78.5935 160.053 72.6861C158.511 66.7788 154.066 66.2768 150.436 68.3826Z" fill="#263238"/>
<path d="M148.833 76.4077C150.67 79.9643 151.368 81.5131 154.037 82.5782C158.059 84.176 162.026 81.1458 161.291 77.1116C160.636 73.4815 157.747 68.2782 153.529 68.3945C152.599 68.4168 151.69 68.6764 150.888 69.1486C150.086 69.6209 149.419 70.2901 148.948 71.0929C148.478 71.8956 148.221 72.8052 148.2 73.7353C148.18 74.6655 148.398 75.5854 148.833 76.4077Z" fill="#FFB573"/>
<path d="M149.544 72.5938C151.178 73.2978 151.533 77.2584 150.156 78.8501C147.309 78.8562 144.671 70.488 149.544 72.5938Z" fill="#263238"/>
<path d="M157.654 74.3145C158.219 74.8761 158.857 75.3581 159.552 75.7469C159.449 75.923 159.308 76.0742 159.14 76.1895C158.972 76.3049 158.78 76.3816 158.579 76.4142L157.654 74.3145Z" fill="#ED893E"/>
<path d="M149.314 80.185C149.857 80.7386 150.596 81.0554 151.371 81.0665C152.393 81.0665 152.638 80.087 152.124 79.23C151.61 78.373 150.581 77.5894 149.675 78.0057C149.474 78.0934 149.298 78.23 149.163 78.4032C149.028 78.5763 148.938 78.7805 148.902 78.9972C148.867 79.2138 148.885 79.4359 148.957 79.6434C149.029 79.8509 149.152 80.037 149.314 80.185Z" fill="#FFB573"/>
<path d="M153.442 74.7122C153.481 74.7008 153.515 74.6776 153.54 74.6458C153.565 74.614 153.58 74.5752 153.582 74.5347C153.638 74.2276 153.757 73.9355 153.932 73.6772C154.107 73.4188 154.334 73.2001 154.599 73.0349C154.641 73.0073 154.67 72.964 154.681 72.9147C154.691 72.8653 154.681 72.8139 154.654 72.7716C154.626 72.7294 154.583 72.6999 154.533 72.6896C154.484 72.6792 154.433 72.6889 154.39 72.7165C154.069 72.9106 153.793 73.1719 153.582 73.4826C153.37 73.7932 153.229 74.1458 153.166 74.5163C153.164 74.5672 153.183 74.6168 153.217 74.6546C153.251 74.6923 153.299 74.7152 153.35 74.7183L153.442 74.7122Z" fill="#263238"/>
<path d="M158.785 71.3268C158.817 71.3167 158.846 71.2992 158.869 71.2758C158.892 71.2523 158.91 71.2237 158.92 71.1921C158.933 71.1426 158.927 71.0899 158.901 71.0453C158.876 71.0006 158.835 70.9677 158.785 70.9534C158.495 70.8653 158.189 70.8476 157.89 70.9019C157.592 70.9562 157.311 71.0809 157.071 71.2656C157.052 71.2821 157.037 71.3021 157.026 71.3246C157.015 71.347 157.008 71.3714 157.006 71.3965C157.005 71.4215 157.008 71.4466 157.016 71.4703C157.024 71.4941 157.036 71.516 157.053 71.5349C157.069 71.5538 157.089 71.5693 157.112 71.5804C157.134 71.5916 157.159 71.5982 157.184 71.5999C157.209 71.6016 157.234 71.5984 157.258 71.5904C157.281 71.5824 157.303 71.5698 157.322 71.5533C157.514 71.4091 157.737 71.3128 157.974 71.2723C158.21 71.2319 158.453 71.2484 158.681 71.3207C158.715 71.3318 158.751 71.3339 158.785 71.3268Z" fill="#263238"/>
<path d="M159.086 77.3754C158.956 77.946 158.866 78.5248 158.816 79.1078H158.51C157.115 79.2057 156.435 78.7895 156.105 78.2997C155.949 78.0565 155.855 77.7793 155.829 77.4917C155.804 77.3294 155.804 77.1643 155.829 77.002C156.716 77.3236 157.661 77.453 158.602 77.3815C158.902 77.3937 159.086 77.3754 159.086 77.3754Z" fill="#263238"/>
<path d="M158.608 77.4059L158.516 77.914C157.206 77.9997 156.264 77.8834 155.829 77.5161C155.804 77.3538 155.804 77.1887 155.829 77.0264C156.718 77.3489 157.665 77.4783 158.608 77.4059Z" fill="white"/>
<path d="M158.511 79.1319C157.116 79.2299 156.436 78.8136 156.105 78.3239C156.637 78.2978 157.17 78.3641 157.679 78.5198C158.013 78.6319 158.304 78.8459 158.511 79.1319Z" fill="#DE5753"/>
<path d="M155.751 74.3142L156.155 73.9775C156.155 73.9775 156.057 74.5468 155.684 74.5285C155.483 74.4809 155.271 74.5121 155.093 74.6157C154.914 74.7193 154.782 74.8874 154.723 75.0855C154.705 74.0938 155.488 74.2346 155.751 74.3142Z" fill="#263238"/>
<path d="M158.921 72.9431L159.325 72.6064C159.325 72.6064 159.227 73.1758 158.854 73.1574C158.653 73.1113 158.442 73.1432 158.264 73.2466C158.085 73.3499 157.953 73.5172 157.893 73.7145C157.875 72.735 158.652 72.8636 158.921 72.9431Z" fill="#263238"/>
<path d="M150.798 75.4777C150.798 75.4777 152.084 72.9433 150.945 70.7212C151.598 71.4193 151.999 72.3157 152.084 73.2678C152.593 72.6156 153.186 72.0332 153.847 71.5354C153.703 70.6967 153.402 69.8928 152.959 69.1663C153.318 69.4265 153.619 69.7582 153.844 70.1407C154.068 70.5232 154.211 70.948 154.263 71.3884C154.316 70.5967 154.124 69.8079 153.712 69.1296C154.385 69.5757 154.884 70.2391 155.126 71.0089L156.491 70.5008C156.491 70.5008 156.185 69.2398 155.548 68.897C156.158 69.2354 156.71 69.6694 157.183 70.1825C157.183 70.1825 158.462 70.0907 158.756 70.4702C158.49 69.8788 158.09 69.3568 157.589 68.9448C157.088 68.5329 156.499 68.2421 155.867 68.095C156.98 68.1867 158.051 68.5641 158.977 69.1908C158.977 69.1908 157.256 66.3442 152.567 67.5563C147.878 68.7684 146.917 72.123 146.862 73.531C146.807 74.939 150.798 75.4777 150.798 75.4777Z" fill="#263238"/>
<path d="M148.209 70.8983C147.152 70.1521 145.918 69.6942 144.63 69.5697C143.342 69.4452 142.044 69.6584 140.863 70.1882C136.505 71.9635 138.763 81.2928 143.771 85.1065C148.778 88.9203 151.496 86.5757 151.496 86.5757C151.496 86.5757 148.791 87.6898 146.281 84.6719C147.031 85.1949 147.886 85.5494 148.786 85.711C149.686 85.8727 150.611 85.8377 151.496 85.6085L150.058 85.2473L151.496 84.7148C150.866 84.8188 150.22 84.7937 149.599 84.6412C148.979 84.4886 148.395 84.2117 147.885 83.8271C147.885 83.8271 149.568 84.3107 150.664 83.8271C150.664 83.8271 145.063 83.5823 143.526 78.4218C141.989 73.2612 147.523 74.0265 147.523 74.0265L148.209 70.8983Z" fill="#263238"/>
<path d="M168.129 59.5428L166.342 56.7207L170.425 57.1002C170.425 57.1002 171.466 59.4693 170.425 60.7732L170.033 60.7242C169.648 60.6803 169.278 60.5516 168.949 60.3473C168.619 60.143 168.34 59.8682 168.129 59.5428Z" fill="#FFB573"/>
<path d="M166.145 53.7335L169.579 53.5254L170.424 57.1004L166.34 56.7209L166.145 53.7335Z" fill="#FFB573"/>
<path d="M173.086 107.738L154.911 112.813C153.876 108.98 152.592 105.22 151.066 101.555C150.215 99.4554 149.395 97.5944 148.722 96.0456C148.722 95.9844 148.673 95.9232 148.642 95.862C147.418 92.9665 146.683 91.1178 147.197 90.6709C148.422 89.6118 152.744 88.0263 152.744 88.0263C152.744 88.0263 158.069 91.1361 161.191 89.82C163.279 88.9385 161.804 86.147 161.804 86.147C164.166 84.2432 165.195 84.3656 166.352 85.7063C167.001 86.533 167.536 87.443 167.943 88.412C170.429 93.9214 172.412 104.053 172.951 106.96C172.988 107.15 173.018 107.315 173.037 107.438C173.037 107.505 173.037 107.56 173.037 107.603C173.037 107.646 173.086 107.738 173.086 107.738Z" fill="#263238"/>
<path opacity="0.7" d="M173.085 107.738L154.91 112.813C153.875 108.981 152.591 105.22 151.066 101.555C150.215 99.4555 149.394 97.5945 148.721 96.0458C148.716 95.9755 148.697 95.9069 148.666 95.8437L151.2 95.9968L151.849 96.0335C151.849 96.0335 152.137 90.622 153.178 89.2018C153.178 89.2018 158.308 91.6994 161.283 90.4261C164.258 89.1528 162.874 86.5879 162.874 86.5879C164.676 86.7914 166.403 87.4209 167.912 88.4244H167.943C170.71 94.4052 172.663 105.412 173.005 107.401C173.005 107.469 173.005 107.524 173.005 107.567C173.005 107.609 173.085 107.738 173.085 107.738Z" fill="white"/>
<path opacity="0.2" d="M151.069 101.556C150.218 99.4561 149.397 97.5951 148.724 96.0464C148.724 95.9851 148.675 95.9239 148.645 95.8627C149.37 95.4464 150.204 95.2567 151.038 95.3179C151.038 95.3179 151.112 95.575 151.197 96.0219C151.575 97.8524 151.531 99.7448 151.069 101.556Z" fill="black"/>
<path d="M151.814 95.0911C149.011 99.5293 145.46 103.588 140.636 105.908C140.209 106.115 139.743 106.232 139.269 106.253C138.794 106.274 138.32 106.199 137.876 106.031C137.432 105.863 137.026 105.607 136.684 105.277C136.342 104.948 136.07 104.552 135.886 104.114C134.931 102.125 134.735 100.264 134.453 98.2682C134.186 95.8928 134.085 93.5015 134.153 91.1121L137.165 90.7754C137.777 92.9792 138.39 95.2136 139.002 97.35C139.436 98.7335 139.859 100.35 140.563 101.451C140.599 101.494 140.612 101.494 140.593 101.451C140.282 101.116 139.871 100.89 139.421 100.808C138.971 100.725 138.506 100.79 138.096 100.992C141.487 98.9232 144.303 95.2258 146.593 91.8895L151.82 95.0789L151.814 95.0911Z" fill="#FFB573"/>
<path d="M147.56 90.4879C145.943 91.0633 143.115 95.477 143.115 95.477L148.245 101.384C148.245 101.384 152.053 97.8705 151.875 95.6422C151.698 93.414 149.396 89.8145 147.56 90.4879Z" fill="#263238"/>
<path d="M150.999 88.5039C150.999 88.5039 175.063 96.5477 184.105 112.378L183.297 114.747C183.297 114.747 178.485 100.055 150.057 89.0977L150.999 88.5039Z" fill="#FF6A00"/>
<path opacity="0.3" d="M150.999 88.5039C150.999 88.5039 175.063 96.5477 184.105 112.378L183.297 114.747C183.297 114.747 178.485 100.055 150.057 89.0977L150.999 88.5039Z" fill="black"/>
<path d="M133.243 83.123L144.372 87.4633L143.839 97.7169L131.045 92.7095L132.006 83.3802L133.243 83.123Z" fill="#FF6A00"/>
<path opacity="0.2" d="M133.243 83.123L144.372 87.4633L143.839 97.7169L131.045 92.7095L132.006 83.3802L133.243 83.123Z" fill="black"/>
<path d="M143.864 87.8863L143.099 96.7688L140.454 97.5401L140.16 87.6904L143.864 87.8863Z" fill="#FF6A00"/>
<path opacity="0.7" d="M143.864 87.8863L143.099 96.7688L140.454 97.5401L140.16 87.6904L143.864 87.8863Z" fill="white"/>
<path d="M144.371 87.4633L142.614 88.3142L141.751 97.9006L130.145 93.2298L132.005 83.3802L133.242 83.123L144.371 87.4633Z" fill="#FF6A00"/>
<path d="M139.786 99.7986C139.504 99.0273 139.235 98.1948 138.99 97.35C138.378 95.2136 137.766 92.9792 137.154 90.7754L134.142 91.1121C134.074 93.5015 134.174 95.8928 134.442 98.2682C134.582 99.5052 134.801 100.732 135.097 101.941C135.274 102.684 135.535 103.405 135.874 104.09C136.001 104.34 136.15 104.578 136.321 104.8C136.595 105.173 136.936 105.492 137.325 105.743L137.533 105.865L137.796 105.994L138.072 106.098C138.18 106.134 138.291 106.165 138.402 106.19C138.864 106.291 139.342 106.291 139.804 106.19C140.014 106.142 140.219 106.077 140.416 105.994L140.637 105.89L140.875 105.779C141.102 105.669 141.316 105.553 141.531 105.443C141.524 105.461 140.38 99.3211 139.786 99.7986Z" fill="#FFB573"/>
<path d="M134.129 91.6076L133.725 86.7715L137.557 89.1344C137.557 89.1344 137.422 91.9748 135.757 92.7645L134.129 91.6076Z" fill="#FFB573"/>
<path d="M135.555 83.5332L138.659 85.688L137.557 89.1345L133.725 86.7777L135.555 83.5332Z" fill="#FFB573"/>
<path d="M102.114 123.544C102.114 123.544 92.2645 127.56 87.3366 126.831C82.4087 126.103 81.0436 138.462 87.3366 141.205C93.6296 143.947 100.939 143.262 103.565 141.548C106.191 139.834 102.114 123.544 102.114 123.544Z" fill="#FF6A00"/>
<path opacity="0.2" d="M102.114 123.544C102.114 123.544 92.2645 127.56 87.3366 126.831C82.4087 126.103 81.0436 138.462 87.3366 141.205C93.6296 143.947 100.939 143.262 103.565 141.548C106.191 139.834 102.114 123.544 102.114 123.544Z" fill="black"/>
<path d="M102.115 123.544C102.115 123.544 110.263 130.706 110.752 132.886C111.242 135.065 105.341 142.007 102.519 141.523C99.6967 141.039 100.682 124.279 100.682 124.279L102.115 123.544Z" fill="#FF6A00"/>
<path opacity="0.2" d="M102.115 123.544C102.115 123.544 110.263 130.706 110.752 132.886C111.242 135.065 105.341 142.007 102.519 141.523C99.6967 141.039 100.682 124.279 100.682 124.279L102.115 123.544Z" fill="white"/>
<path d="M82.2734 97.9316C86.6871 94.6198 91.4558 91.4549 95.8083 88.137C97.0326 86.5577 97.4611 84.5559 97.9876 82.5725C98.5997 80.0443 99.0711 77.3569 99.4629 74.7246L102.328 74.7736C102.591 77.61 102.591 80.4646 102.328 83.301C101.948 86.3312 101.44 89.9245 99.0956 92.2201C94.8199 95.9387 90.3379 99.4131 85.6709 102.627L82.304 97.9132L82.2734 97.9316Z" fill="#DC897C"/>
<path d="M85.0903 105.981C88.8734 106.134 96.8682 96.6821 96.8682 96.6821L91.5547 91.4727C88.5575 93.0475 85.7757 95.0021 83.2783 97.2882C79.5808 100.894 80.8847 105.791 85.0903 105.981Z" fill="#263238"/>
<path opacity="0.2" d="M85.0903 105.981C88.8734 106.134 96.8682 96.6821 96.8682 96.6821L91.5547 91.4727C88.5575 93.0475 85.7757 95.0021 83.2783 97.2882C79.5808 100.894 80.8847 105.791 85.0903 105.981Z" fill="white"/>
<path opacity="0.1" d="M85.5624 105.963C84.3993 104.69 84.4789 102.847 86.7867 100.313C89.0803 97.9626 91.731 95.9895 94.6407 94.4668L96.9057 96.6828C96.9057 96.6828 89.4925 105.486 85.5624 105.963Z" fill="black"/>
<path d="M99.3662 77.6321L98.3867 72.0615L103.327 71.9941C103.327 71.9941 104.551 75.7895 102.011 77.8709L99.3662 77.6321Z" fill="#E4897B"/>
<path d="M99.6294 68.2539L103.327 69.0803V72.0126L98.3867 72.0799L99.6294 68.2539Z" fill="#E4897B"/>
<path d="M75.3613 215.582L70.2131 215.668C70.1293 215.669 70.0483 215.699 69.9837 215.752C69.9192 215.806 69.8748 215.88 69.858 215.962L69.0806 219.745C69.0629 219.826 69.0617 219.909 69.0773 219.991C69.0929 220.072 69.1248 220.15 69.1712 220.218C69.2175 220.287 69.2774 220.346 69.347 220.39C69.4167 220.435 69.4947 220.466 69.5764 220.479C69.6232 220.485 69.6705 220.485 69.7172 220.479C71.3823 220.424 72.5883 220.308 74.6819 220.271C75.9674 220.271 79.8546 220.326 81.636 220.271C83.4174 220.216 83.6133 218.484 82.8603 218.337C79.5852 217.676 77.1121 216.727 76.0531 215.809C75.8578 215.651 75.6118 215.571 75.3613 215.582Z" fill="#263238"/>
<path d="M118.758 215.582L113.616 215.668C113.531 215.668 113.448 215.697 113.383 215.75C113.317 215.804 113.271 215.878 113.254 215.962L112.483 219.745C112.465 219.825 112.464 219.909 112.479 219.99C112.494 220.071 112.526 220.148 112.572 220.216C112.617 220.285 112.676 220.344 112.745 220.389C112.814 220.434 112.892 220.465 112.973 220.479C113.02 220.485 113.067 220.485 113.114 220.479C114.779 220.424 115.991 220.308 118.078 220.271C119.364 220.271 123.251 220.326 125.032 220.271C126.814 220.216 127.016 218.484 126.257 218.337C122.982 217.676 120.509 216.727 119.45 215.809C119.254 215.651 119.008 215.571 118.758 215.582Z" fill="#263238"/>
<path d="M69.0684 215.845H76.0776C76.0776 215.845 85.0029 186.425 85.7681 178.92C86.5333 171.415 86.8149 152.597 86.8149 152.597V152.634C87.1209 153.038 89.7655 156.76 92.814 161.088C96.7992 166.75 101.476 173.447 102.462 175.088C105.351 179.924 112.428 215.821 112.428 215.821H119.431C119.431 215.821 117.668 183.689 114.068 173.098C110.469 162.508 94.9076 139.381 94.2342 138.138C93.3711 136.552 91.253 131.521 91.253 131.521L70.2498 134.441C70.2498 134.441 69.907 137.997 69.9315 141.107C70.0294 152.775 72.2332 168.544 72.5883 172.786C73.28 180.873 69.0684 215.845 69.0684 215.845Z" fill="#FF6A00"/>
<path d="M86.3143 97.6433C86.3143 97.6433 92.6012 108.852 91.2667 131.545L70.2696 134.465C69.6574 131.263 69.5166 115.255 64.2949 100.496C66.5549 99.7364 68.8614 99.123 71.2001 98.6595C74.1489 98.0783 77.129 97.6695 80.1254 97.4352C82.1906 97.3442 84.2598 97.4137 86.3143 97.6433Z" fill="#263238"/>
<path opacity="0.2" d="M91.2865 131.545L70.2833 134.465C69.9099 132.463 69.7078 125.436 68.3305 116.835C67.9632 114.539 67.5102 112.127 66.9409 109.679C66.2355 106.571 65.3567 103.506 64.3086 100.496C66.5676 99.7335 68.8743 99.12 71.2138 98.6598C74.1645 98.0783 77.1467 97.6695 80.1452 97.4355C82.2115 97.3628 84.2804 97.4466 86.3341 97.6865C86.3341 97.6865 92.6148 108.852 91.2865 131.545Z" fill="white"/>
<path d="M69.9707 88.4424C71.1522 91.1542 72.854 96.2168 71.2868 98.543C74.2558 99.1001 76.3861 99.4429 79.1409 100.992C79.5755 99.0695 80.0897 96.5902 80.0897 96.5902C76.7657 96.5351 76.3249 94.1416 76.4167 91.8521L69.9707 88.4424Z" fill="#E4897B"/>
<path opacity="0.2" d="M72.5883 89.8389L76.3837 91.859C76.3647 92.4008 76.3892 92.9433 76.4571 93.4812C75.2328 93.573 73.2678 92.6181 72.8576 91.3815C72.6724 90.8886 72.581 90.3654 72.5883 89.8389Z" fill="black"/>
<path opacity="0.5" d="M69.0684 215.845H76.0776C76.0776 215.845 85.0029 186.425 85.7681 178.92C86.5333 171.415 86.8149 152.597 86.8149 152.597V152.634C87.1209 153.038 89.7655 156.76 92.814 161.088C96.7992 166.75 101.476 173.447 102.462 175.088C105.351 179.924 112.428 215.821 112.428 215.821H119.431C119.431 215.821 117.668 183.689 114.068 173.098C110.469 162.508 94.9076 139.381 94.2342 138.138C93.3711 136.552 91.253 131.521 91.253 131.521L70.2498 134.441C70.2498 134.441 69.907 137.997 69.9315 141.107C70.0294 152.775 72.2332 168.544 72.5883 172.786C73.28 180.873 69.0684 215.845 69.0684 215.845Z" fill="white"/>
<path d="M68.5859 99.2233L70.3306 97.044L75.9808 98.1337L78.8519 101.421L79.213 97.6256L80.2721 96.3584L82.5921 97.3562V99.7314L80.9393 99.1927L79.513 102.511L75.0014 100.656L73.9974 101.935L68.5859 99.2233Z" fill="#263238"/>
<path opacity="0.3" d="M68.5859 99.2233L70.3306 97.044L75.9808 98.1337L78.8519 101.421L79.213 97.6256L80.2721 96.3584L82.5921 97.3562V99.7314L80.9393 99.1927L79.513 102.511L75.0014 100.656L73.9974 101.935L68.5859 99.2233Z" fill="white"/>
<path opacity="0.1" d="M79.5117 102.511L80.0565 98.5439L82.5909 99.7315L80.9381 99.1928L79.5117 102.511Z" fill="black"/>
<path opacity="0.1" d="M79.5136 102.511L75.3326 99.4316L73.998 101.935L75.002 100.656L79.5136 102.511Z" fill="black"/>
<path opacity="0.1" d="M68.3271 116.811C67.9598 114.515 67.5068 112.103 66.9375 109.655C67.6152 108.814 68.5781 108.252 69.6432 108.075C69.6432 108.075 70.2187 113.658 68.3271 116.811Z" fill="black"/>
<path opacity="0.2" d="M86.8164 152.61V152.646C87.1225 153.05 89.767 156.772 92.8156 161.1C93.1171 158.758 92.7189 156.379 91.671 154.262C90.623 152.145 88.9723 150.386 86.9266 149.206L86.8164 152.61Z" fill="black"/>
<path d="M76.1886 77.0508C78.2944 77.5895 80.3451 82.8786 78.074 84.5008C75.8029 86.123 72.234 76.0407 76.1886 77.0508Z" fill="#263238"/>
<path d="M68.3534 84.5558C69.8716 88.2288 70.5694 90.4815 73.1466 91.8344C73.9801 92.2818 74.9199 92.493 75.8646 92.4452C76.8094 92.3973 77.723 92.0922 78.507 91.5629C79.2909 91.0335 79.9154 90.3 80.3128 89.4416C80.7102 88.5832 80.8655 87.6325 80.7619 86.6923C80.4252 83.0622 78.0072 77.6323 73.771 77.265C72.8568 77.1596 71.9308 77.2965 71.0862 77.6621C70.2416 78.0276 69.508 78.6089 68.9591 79.3477C68.4102 80.0864 68.0653 80.9565 67.959 81.8706C67.8526 82.7848 67.9887 83.7109 68.3534 84.5558Z" fill="#E4897B"/>
<path d="M71.1583 79.2053L70.3136 75.8936C69.5413 76.4477 68.6135 76.7434 67.6629 76.7383C63.5247 76.5486 60.9659 79.6583 63.2248 81.5315C61.5046 82.6946 63.0166 85.0637 64.5776 86.4655C66.7386 88.4122 68.7893 89.1346 69.8789 87.8674C70.9135 87.0961 70.3625 83.1048 69.7075 81.7029C68.7281 79.6032 71.1583 79.2053 71.1583 79.2053Z" fill="#263238"/>
<path d="M68.1812 88.7182C68.9342 89.3596 69.8858 89.7208 70.8747 89.7405C72.099 89.7405 72.197 88.559 71.3889 87.5857C70.6605 86.7103 69.1362 85.6574 68.1078 86.1349C67.0793 86.6124 67.2263 87.9163 68.1812 88.7182Z" fill="#E4897B"/>
<path d="M74.4793 83.8637C74.5834 84.1698 74.8344 84.3718 75.0364 84.3106C75.2384 84.2494 75.318 83.9494 75.2139 83.6434C75.1099 83.3373 74.8589 83.1414 74.6569 83.2026C74.4548 83.2638 74.3753 83.5576 74.4793 83.8637Z" fill="#263238"/>
<path d="M77.9832 82.8113C78.0873 83.1173 78.3383 83.3132 78.5403 83.252C78.7423 83.1908 78.8219 82.8908 78.7178 82.5848C78.6138 82.2787 78.3628 82.0828 78.1608 82.144C77.9587 82.2052 77.8792 82.5297 77.9832 82.8113Z" fill="#263238"/>
<path d="M76.9238 83.2949C77.613 84.1218 78.4097 84.8527 79.2929 85.4681C79.1295 85.6827 78.9208 85.8587 78.6817 85.9835C78.4426 86.1084 78.1789 86.179 77.9094 86.1904L76.9238 83.2949Z" fill="#DE5753"/>
<path d="M73.0186 83.0738C72.9887 83.0829 72.9567 83.0829 72.9268 83.0738C72.9029 83.0656 72.8809 83.0527 72.8621 83.0359C72.8433 83.0191 72.828 82.9987 72.8172 82.9758C72.8064 82.953 72.8002 82.9283 72.799 82.9031C72.7979 82.8779 72.8018 82.8527 72.8105 82.829C72.9024 82.5456 73.0619 82.2889 73.2752 82.0809C73.4885 81.873 73.7492 81.72 74.0348 81.6353C74.0593 81.6299 74.0847 81.6294 74.1094 81.6339C74.1341 81.6384 74.1577 81.6478 74.1787 81.6614C74.1998 81.6751 74.2179 81.6928 74.2321 81.7135C74.2463 81.7343 74.2562 81.7576 74.2613 81.7822C74.2708 81.8307 74.2615 81.8811 74.2354 81.9231C74.2093 81.9651 74.1682 81.9957 74.1205 82.0087C73.8954 82.0771 73.6902 82.1992 73.5228 82.3645C73.3554 82.5298 73.2307 82.7333 73.1594 82.9575C73.1476 82.9872 73.1285 83.0134 73.1039 83.0337C73.0793 83.0541 73.05 83.0679 73.0186 83.0738Z" fill="#263238"/>
<path d="M79.0846 81.1641C79.0538 81.1679 79.0224 81.1649 78.9928 81.1554C78.9632 81.1459 78.9361 81.13 78.9132 81.109C78.7477 80.9304 78.5438 80.7918 78.3168 80.7038C78.0898 80.6158 77.8458 80.5806 77.6032 80.6009C77.5537 80.6098 77.5026 80.5987 77.4613 80.57C77.42 80.5413 77.3918 80.4973 77.3828 80.4478C77.3757 80.3976 77.3883 80.3466 77.4179 80.3055C77.4476 80.2644 77.4921 80.2365 77.542 80.2275C77.8442 80.1943 78.1501 80.2323 78.435 80.3386C78.7199 80.445 78.9759 80.6165 79.1826 80.8396C79.2003 80.8573 79.2144 80.8782 79.2241 80.9013C79.2337 80.9245 79.2386 80.9493 79.2386 80.9743C79.2386 80.9993 79.2337 81.0241 79.2241 81.0472C79.2144 81.0703 79.2003 81.0913 79.1826 81.109C79.1567 81.1374 79.1224 81.1568 79.0846 81.1641Z" fill="#263238"/>
<path d="M67.5039 77.2099C67.5039 77.2099 69.6281 71.4617 74.9784 71.9086C74.4836 72.0816 74.0265 72.3475 73.6316 72.6921C73.6316 72.6921 78.131 71.7249 79.9491 74.7429L79.0125 74.345C79.0125 74.345 80.5001 76.8426 79.3614 78.7586L79.0003 77.9138C79.0003 77.9138 77.427 80.4543 74.5621 80.1482L75.462 79.5361C75.462 79.5361 70.6565 79.9891 69.3404 78.9239C68.6657 78.4234 68.0497 77.8484 67.5039 77.2099Z" fill="#263238"/>
<path d="M78.8289 87.1635C77.1972 87.0407 75.5576 87.0715 73.9316 87.2553C74.4397 88.3082 75.2968 89.1285 77.1394 88.9632C77.3713 88.9655 77.6013 88.9197 77.8147 88.8286C78.028 88.7375 78.2202 88.6032 78.379 88.434C78.5378 88.2649 78.6597 88.0646 78.7372 87.8459C78.8146 87.6272 78.8459 87.3949 78.8289 87.1635Z" fill="#263238"/>
<path d="M76.2062 88.1794C76.9114 88.0815 77.6295 88.2101 78.2569 88.5467C77.9331 88.7978 77.5398 88.9431 77.1305 88.9629C76.4272 89.0638 75.7102 88.935 75.0859 88.5957C75.4075 88.3447 75.7988 88.1993 76.2062 88.1794Z" fill="#A02724"/>
<path d="M78.6632 87.1449C78.6438 87.286 78.5846 87.4185 78.4924 87.527C78.4002 87.6354 78.2789 87.7153 78.1429 87.7571C77.0754 87.8434 76.0026 87.8434 74.9351 87.7571C74.7644 87.7559 74.5966 87.7121 74.447 87.6298C74.2974 87.5475 74.1706 87.4293 74.0781 87.2857C75.6008 87.1247 77.1335 87.0776 78.6632 87.1449Z" fill="white"/>
<path d="M74.7624 117.422L69.7244 111.595L66.1738 123.446C66.1738 123.446 68.1205 127.792 68.194 127.578C68.2674 127.364 74.7624 117.422 74.7624 117.422Z" fill="#FF6A00"/>
<path d="M74.1003 117.539L69.7233 112.648L67.2319 112.066L66.5156 122.271L69.3989 124.279L74.1003 117.539Z" fill="#FF6A00"/>
<path opacity="0.7" d="M74.1003 117.539L69.7233 112.648L67.2319 112.066L66.5156 122.271L69.3989 124.279L74.1003 117.539Z" fill="white"/>
<path d="M67.154 110.946L71.6534 116.707L74.7632 117.392L70.0251 133.125L65.5318 133.602L62.6914 127.064L67.154 110.946Z" fill="#FF6A00"/>
<path opacity="0.2" d="M67.154 110.946L71.6534 116.707L74.7632 117.392L70.0251 133.125L65.5318 133.602L62.6914 127.064L67.154 110.946Z" fill="white"/>
<path d="M71.4825 117.649L65.973 112.237L63.3652 124.334C63.3652 124.334 65.6547 128.509 65.7098 128.288C65.7649 128.068 71.4825 117.649 71.4825 117.649Z" fill="#FF6A00"/>
<path opacity="0.4" d="M71.4825 117.649L65.973 112.237L63.3652 124.334C63.3652 124.334 65.6547 128.509 65.7098 128.288C65.7649 128.068 71.4825 117.649 71.4825 117.649Z" fill="black"/>
<path d="M70.8372 117.851L66.0868 113.315L63.5586 112.936L63.6443 123.165L66.6806 124.94L70.8372 117.851Z" fill="#FF6A00"/>
<path opacity="0.7" d="M70.8372 117.851L66.0868 113.315L63.5586 112.936L63.6443 123.165L66.6806 124.94L70.8372 117.851Z" fill="white"/>
<path d="M63.3961 111.821L68.3362 117.214L71.4827 117.649L68.0057 133.712L63.5614 134.532L60.2129 128.246L63.3961 111.821Z" fill="#FF6A00"/>
<path opacity="0.2" d="M63.3961 111.821L68.3362 117.214L71.4827 117.649L68.0057 133.712L63.5614 134.532L60.2129 128.246L63.3961 111.821Z" fill="black"/>
<path d="M67.2826 105.791C63.8177 109.422 59.9734 113.027 57.1452 117.165C57.0289 117.355 56.9064 117.582 56.8575 117.673C56.8782 117.558 56.8782 117.44 56.8575 117.324C56.8575 117.208 56.7718 117.19 56.7901 117.245C57.0166 117.808 58.0145 118.512 58.6266 118.934C60.6554 120.181 62.7778 121.267 64.9747 122.185L64.2768 124.934C61.5952 124.622 58.9726 123.926 56.4902 122.865C53.1111 121.444 50.3074 118.42 52.5173 114.594C54.034 111.941 55.8407 109.465 57.9043 107.212C59.6244 105.259 61.3752 103.416 63.2668 101.61L67.3009 105.761L67.2826 105.791Z" fill="#DC897C"/>
<path d="M67.2262 100.087C61.2331 98.8623 53.9668 110.199 53.9668 110.199L59.9904 114.974C63.0807 113.021 66.0119 110.827 68.7566 108.412C72.5458 104.91 71.2113 100.895 67.2262 100.087Z" fill="#263238"/>
<path opacity="0.2" d="M67.2262 100.087C61.2331 98.8623 53.9668 110.199 53.9668 110.199L59.9904 114.974C63.0807 113.021 66.0119 110.827 68.7566 108.412C72.5458 104.91 71.2113 100.895 67.2262 100.087Z" fill="white"/>
<path d="M63.4361 121.598L69.0618 120.985L68.7863 125.925C68.7863 125.925 64.9175 126.893 63.0137 124.199L63.4361 121.598Z" fill="#E4897B"/>
<path d="M72.7968 122.516L71.7071 126.146L68.7871 125.944L69.0626 121.004L72.7968 122.516Z" fill="#E4897B"/>
<path d="M81.8496 96.9641C81.8496 96.9641 94.2642 108.669 100.827 124.652L102.088 123.544C102.088 123.544 94.2703 106.893 83.9983 96.707L81.8496 96.9641Z" fill="#FF6A00"/>
</svg>

    </div>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingStep1Component {}

@Component({
  selector: 'bf-onboarding-step2',
  standalone: true,
  template: `
    <!-- Anchored tooltip container, absolutely positioned inside overlay root -->
    <div
      #tooltip
      class="absolute z-[60] w-[300px] max-w-[90vw] bg-[#FF6A00] text-white rounded-2xl shadow-2xl p-4 pointer-events-auto"
      [style.left.px]="left()"
      [style.top.px]="top()"
      [class.opacity-0]="!ready()"
      [class.pointer-events-none]="!ready()"
    >
      <div class="flex items-start gap-4">
        <div class="flex-1">
          <div class="text-base font-semibold">Notifications</div>
          <p class="mt-1 text-sm leading-snug opacity-95">
            Access all your important notifications on clicking the bell icon here.
          </p>
        </div>
      </div>

      <!-- Actions -->
      <div class="mt-3 flex items-center gap-3">
        <button type="button" (click)="svc.back()" class="text-white/90 hover:underline text-sm">Back</button>
        <button type="button" (click)="svc.next()" class="ml-auto inline-flex items-center gap-2 bg-white text-orange-600 hover:bg-white/90 px-3 py-1.5 rounded-full text-sm font-semibold">
          Next
          <span aria-hidden>→</span>
        </button>
      </div>

      <!-- Arrow pointer -->
      <div
        class="absolute h-3.5 w-3.5 rotate-45 bg-[#FF6A00]"
        [style.left.px]="arrowLeft()"
        [style.top.px]="arrowTop()"
      ></div>
    </div>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingStep2Component implements AfterViewInit, OnDestroy {
  svc = inject(OnboardingService);
  private zone = inject(NgZone);
  @ViewChild('tooltip', { static: true }) tooltipRef!: ElementRef<HTMLDivElement>;

  // Positioning signals
  left = signal(0);
  top = signal(0);
  arrowLeft = signal(0);
  arrowTop = signal(0);
  ready = signal(false);

  ngAfterViewInit(): void {
    // Defer to next tick to ensure DOM settled
    this.zone.runOutsideAngular(() => {
      setTimeout(() => {
        this.reposition();
        window.addEventListener('resize', this.reposition, { passive: true });
        window.addEventListener('scroll', this.reposition, { passive: true });
      });
    });
  }

  ngOnDestroy(): void {
    window.removeEventListener('resize', this.reposition);
    window.removeEventListener('scroll', this.reposition);
  }

  private reposition = () => {
    const anchor = document.getElementById('bf-bell-anchor');
    const tooltipEl = this.tooltipRef?.nativeElement;
    if (!anchor || !tooltipEl) return;

    const a = anchor.getBoundingClientRect();
    const tRect = tooltipEl.getBoundingClientRect();
    const vw = window.innerWidth;
    const vh = window.innerHeight;
  const spacing = 12; // gap between anchor and tooltip (to fit arrow)
    const margin = 8;   // viewport margin

  // Preferred: tooltip below; arrow fixed at left:248px, top:-7px relative to tooltip
  let top = a.bottom + spacing;
  const anchorCenterX = a.left + a.width / 2;
  const arrowSize = 14; // square side (matches h-3.5 w-3.5)
  const fixedArrowLeft = 248; // requested arrow left inside the tooltip
  const arrowCenterFromLeft = fixedArrowLeft + arrowSize / 2;
  // Place tooltip so that this arrow's center lines up with the bell center
  let left = anchorCenterX - arrowCenterFromLeft;

  // Keep within viewport horizontally (remember the intended left)
  const intendedLeft = left;
  if (left + tRect.width + margin > vw) left = vw - tRect.width - margin;
  if (left < margin) left = margin;

    // If not enough room below, place above
    let flipped = false;
    if (top + tRect.height + margin > vh) {
      top = a.top - tRect.height - spacing;
      flipped = true;
      if (top < margin) top = Math.max(margin, (vh - tRect.height) / 2); // final fallback
    }

    // Compute arrow position relative to tooltip box
    let arrowLeft = (left === intendedLeft)
      ? fixedArrowLeft
      : anchorCenterX - left - arrowSize / 2; // if clamped, keep the arrow pointing at bell
    // Clamp arrow within tooltip width (small inner margin)
    const innerMargin = 6;
    arrowLeft = Math.max(innerMargin, Math.min(tRect.width - innerMargin - arrowSize, arrowLeft));
    const arrowTop = flipped ? tRect.height - arrowSize / 2 : -arrowSize / 2; // -7px when arrowSize=14

    // Apply
    this.left.set(Math.round(left));
    this.top.set(Math.round(top));
    this.arrowLeft.set(Math.round(arrowLeft));
    this.arrowTop.set(Math.round(arrowTop));
    this.ready.set(true);
  };
}

@Component({
  selector: 'bf-onboarding-step3',
  standalone: true,
  template: `
    <!-- Anchored tooltip near profile section -->
    <div
      #tooltip
      class="absolute z-[60] w-[320px] max-w-[92vw] bg-[#FF6A00] text-white rounded-2xl shadow-2xl p-4 pointer-events-auto"
      [style.left.px]="left()"
      [style.top.px]="top()"
      [class.opacity-0]="!ready()"
      [class.pointer-events-none]="!ready()"
    >
      <div class="text-base font-semibold">Profile</div>
      <p class="mt-1 text-sm leading-snug opacity-95">
        Access all your profile settings and edit your credentials here.
      </p>

      <div class="mt-3 flex items-center gap-3">
        <button type="button" (click)="svc.back()" class="text-white/90 hover:underline text-sm">Back</button>
        <button type="button" (click)="svc.next()" class="ml-auto inline-flex items-center gap-2 bg-white text-orange-600 hover:bg-white/90 px-3 py-1.5 rounded-full text-sm font-semibold">
          Next
          <span aria-hidden>→</span>
        </button>
      </div>

      <!-- Arrow pointer -->
      <div
        class="absolute h-3.5 w-3.5 rotate-45 bg-[#FF6A00]"
        [style.left.px]="arrowLeft()"
        [style.top.px]="arrowTop()"
      ></div>
    </div>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingStep3Component implements AfterViewInit, OnDestroy {
  svc = inject(OnboardingService);
  private zone = inject(NgZone);
  @ViewChild('tooltip', { static: true }) tooltipRef!: ElementRef<HTMLDivElement>;

  left = signal(0);
  top = signal(0);
  arrowLeft = signal(0);
  arrowTop = signal(0);
  ready = signal(false);

  ngAfterViewInit(): void {
    this.zone.runOutsideAngular(() => {
      setTimeout(() => {
        this.reposition();
        window.addEventListener('resize', this.reposition, { passive: true });
        window.addEventListener('scroll', this.reposition, { passive: true });
      });
    });
  }

  ngOnDestroy(): void {
    window.removeEventListener('resize', this.reposition);
    window.removeEventListener('scroll', this.reposition);
  }

  private reposition = () => {
    const anchor = document.getElementById('bf-profile-anchor');
    const tooltipEl = this.tooltipRef?.nativeElement;
    if (!anchor || !tooltipEl) return;

    const a = anchor.getBoundingClientRect();
    const tRect = tooltipEl.getBoundingClientRect();
    const vw = window.innerWidth;
    const vh = window.innerHeight;
    const spacing = 12;
    const margin = 8;

    // Prefer below the profile block
    let top = a.bottom + spacing;
    const anchorCenterX = a.left + a.width / 2;

    // Arrow centered by default for this step to visually point at profile block
    const arrowSize = 14;
    const arrowCenterFromLeft = tRect.width / 2;
    let left = anchorCenterX - arrowCenterFromLeft;

    const intendedLeft = left;
    if (left + tRect.width + margin > vw) left = vw - tRect.width - margin;
    if (left < margin) left = margin;

    let flipped = false;
    if (top + tRect.height + margin > vh) {
      top = a.top - tRect.height - spacing;
      flipped = true;
      if (top < margin) top = Math.max(margin, (vh - tRect.height) / 2);
    }

    // Arrow position
    let arrowLeft = (left === intendedLeft)
      ? (tRect.width / 2) - (arrowSize / 2)
      : anchorCenterX - left - arrowSize / 2;
    const inner = 6;
    arrowLeft = Math.max(inner, Math.min(tRect.width - inner - arrowSize, arrowLeft));
    const arrowTop = flipped ? tRect.height - arrowSize / 2 : -arrowSize / 2;

    this.left.set(Math.round(left));
    this.top.set(Math.round(top));
    this.arrowLeft.set(Math.round(arrowLeft));
    this.arrowTop.set(Math.round(arrowTop));
    this.ready.set(true);
  };
}

@Component({
  selector: 'bf-onboarding-step4',
  standalone: true,
  template: `
    <!-- Anchored tooltip near Collab Tools in sidebar -->
    <div
      #tooltip
      class="absolute z-[60] w-[360px] max-w-[94vw] bg-[#FF6A00] text-white rounded-2xl shadow-2xl p-4 pointer-events-auto"
      [style.left.px]="left()"
      [style.top.px]="top()"
      [class.opacity-0]="!ready()"
      [class.pointer-events-none]="!ready()"
    >
      <div class="text-base font-semibold">Side Panel</div>
      <p class="mt-1 text-sm leading-snug opacity-95">
        Access all your navigation buttons from the side panel here.
      </p>

      <div class="mt-3 flex items-center gap-3">
        <button type="button" (click)="svc.back()" class="text-white/90 hover:underline text-sm">Back</button>
        <button type="button" (click)="svc.next()" class="ml-auto inline-flex items-center gap-2 bg-white text-orange-600 hover:bg-white/90 px-3 py-1.5 rounded-full text-sm font-semibold">
          Next
          <span aria-hidden>→</span>
        </button>
      </div>

      <!-- Left-pointing arrow -->
      <div
        class="absolute h-3.5 w-3.5 rotate-45 bg-[#FF6A00]"
        [style.left.px]="arrowLeft()"
        [style.top.px]="arrowTop()"
      ></div>
    </div>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingStep4Component implements AfterViewInit, OnDestroy {
  svc = inject(OnboardingService);
  private zone = inject(NgZone);
  @ViewChild('tooltip', { static: true }) tooltipRef!: ElementRef<HTMLDivElement>;

  left = signal(0);
  top = signal(0);
  arrowLeft = signal(0);
  arrowTop = signal(0);
  ready = signal(false);

  ngAfterViewInit(): void {
    this.zone.runOutsideAngular(() => {
      setTimeout(() => {
        this.reposition();
        window.addEventListener('resize', this.reposition, { passive: true });
        window.addEventListener('scroll', this.reposition, { passive: true });
      });
    });
  }

  ngOnDestroy(): void {
    window.removeEventListener('resize', this.reposition);
    window.removeEventListener('scroll', this.reposition);
  }

  private reposition = () => {
    const anchor = document.getElementById('bf-collab-anchor');
    const tooltipEl = this.tooltipRef?.nativeElement;
    if (!anchor || !tooltipEl) return;

    const a = anchor.getBoundingClientRect();
    const tRect = tooltipEl.getBoundingClientRect();
    const vw = window.innerWidth;
    const vh = window.innerHeight;
    const spacing = 12;
    const margin = 8;

    // Position to the right of the sidebar item, vertically centered with it
    let left = a.right + spacing;
    let top = a.top + (a.height / 2) - (tRect.height / 2);

    // Clamp within viewport
    if (left + tRect.width + margin > vw) left = vw - tRect.width - margin;
    if (left < margin) left = margin;
    if (top + tRect.height + margin > vh) top = vh - tRect.height - margin;
    if (top < margin) top = margin;

    // Arrow on the left edge pointing to the anchor centerY
    const arrowSize = 14;
    const anchorCenterY = a.top + a.height / 2;
    let arrowLeft = -arrowSize / 2; // half outside on the left edge
    let arrowTop = anchorCenterY - top - arrowSize / 2;
    const inner = 6;
    arrowTop = Math.max(inner, Math.min(tRect.height - inner - arrowSize, arrowTop));

    this.left.set(Math.round(left));
    this.top.set(Math.round(top));
    this.arrowLeft.set(Math.round(arrowLeft));
    this.arrowTop.set(Math.round(arrowTop));
    this.ready.set(true);
  };
}

@Component({
  selector: 'bf-onboarding-step5',
  standalone: true,
  template: `<h2 class="text-xl font-bold">Step 5</h2><p class="text-sm text-gray-600">Explain a key feature here.</p>`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingStep5Component {}

@Component({
  selector: 'bf-onboarding-overlay',
  standalone: true,
  imports: [NgIf, AsyncPipe, OnboardingStep1Component, OnboardingStep2Component, OnboardingStep3Component, OnboardingStep4Component, OnboardingStep5Component],
  template: `
  <div *ngIf="(svc.open$ | async)" class="fixed inset-0 z-50">
    <!-- Backdrop only for Step 1 -->
    <ng-container *ngIf="(svc.step$ | async) as step">
      <div *ngIf="step === 1" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
    </ng-container>

    <!-- Content host -->
    <ng-container *ngIf="(svc.step$ | async) as step">
      <!-- Step 2: anchored tooltip near bell -->
      <div *ngIf="step === 2" id="onboarding-tooltip-host" class="absolute inset-0 pointer-events-none">
        <bf-onboarding-step2 class="step2-tooltip"></bf-onboarding-step2>
      </div>

      <!-- Step 3: anchored tooltip near profile -->
      <div *ngIf="step === 3" class="absolute inset-0 pointer-events-none">
        <bf-onboarding-step3></bf-onboarding-step3>
      </div>

      <!-- Step 4: anchored tooltip near Collab Tools in sidebar -->
      <div *ngIf="step === 4" class="absolute inset-0 pointer-events-none">
        <bf-onboarding-step4></bf-onboarding-step4>
      </div>

      <!-- Other steps: centered modal card -->
      <div *ngIf="step !== 2 && step !== 3 && step !== 4" class="absolute inset-0 grid place-items-center p-4">
        <div role="dialog" aria-modal="true" class="w-full max-w-xl rounded-2xl bg-white text-gray-900 shadow-2xl ring-1 ring-black/5">
          <div class="p-6 sm:p-8">
            <bf-onboarding-step1 *ngIf="step === 1" />
            <bf-onboarding-step5 *ngIf="step === 5" />

            <!-- Actions -->
            <div class="mt-6 flex items-center justify-between">
              <div class="flex items-center gap-3">
                <button type="button" class="text-orange-600 font-semibold hover:underline" (click)="svc.close()">Skip For Later</button>
                <button type="button" class="inline-flex items-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-full text-sm" (click)="svc.next()">Let's Go <span aria-hidden>→</span></button>
              </div>
              <div class="flex items-center gap-2">
                <!-- step indicators placeholder -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OnboardingOverlayComponent {
  svc = inject(OnboardingService);
}
